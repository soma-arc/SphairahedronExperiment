!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),s=r(o),u=n(5),c=(r(u),function(){function e(t,n,r,a){i(this,e),this.center=new s.default(t,n,r),this.r=a,this.update(),this.basisRadius=20}return a(e,[{key:"update",value:function(){this.rSq=this.r*this.r}},{key:"setObjBasisUniformValues",value:function(e,t,n){return e.uniform3f(t[n++],this.center.x,this.center.y,this.center.z),e.uniform1f(t[n++],this.basisRadius),e.uniform1f(t[n++],this.r),e.uniform1i(t[n++],!1),e.uniform2f(t[n++],0,0),n}},{key:"setUniformValues",value:function(e,t,n){var r=n;return e.uniform3f(t[r++],this.center.x,this.center.y,this.center.z),e.uniform2f(t[r++],this.r,this.rSq),e.uniform1i(t[r++],this.selected),r}},{key:"cloneDeeply",value:function(){var t=new e(this.center.x,this.center.y,this.center.z,this.r);return t.selected=this.selected,t}},{key:"invertOnPoint",value:function(e){var t=e.sub(this.center),n=t.length();return t.scale(this.rSq/(n*n)).add(this.center)}},{key:"invertOnSphere",value:function(t){var n=t.r,r=Math.sqrt(3),i=n*r/3,a=this.invertOnPoint(t.center.add(new s.default(i,i,i))),o=this.invertOnPoint(t.center.add(new s.default(-i,-i,-i))),u=this.invertOnPoint(t.center.add(new s.default(i,-i,-i))),c=this.invertOnPoint(t.center.add(new s.default(i,i,-i)));return e.fromPoints(a,o,u,c)}},{key:"invertOnPlane",value:function(t){return e.fromPoints(this.invertOnPoint(t.p1),this.invertOnPoint(t.p2),this.invertOnPoint(t.p3),this.center)}}],[{key:"pivoting",value:function(e,t,n){for(var r=n,i=Math.abs(e[n][n]),a=n+1;a<t;a++)Math.abs(e[a][n])>i&&(r=a,i=Math.abs(e[a][n]));if(n!==r){var o=e[r];e[r]=e[n],e[n]=o}return e}},{key:"fromPoints",value:function(t,n,r,i){for(var a=[t,n,r,i],o=[[],[],[]],u=0;u<3;u++)o[u][0]=2*(a[u+1].x-a[u].x),o[u][1]=2*(a[u+1].y-a[u].y),o[u][2]=2*(a[u+1].z-a[u].z),o[u][3]=-(Math.pow(a[u].x,2)+Math.pow(a[u].y,2)+Math.pow(a[u].z,2))+Math.pow(a[u+1].x,2)+Math.pow(a[u+1].y,2)+Math.pow(a[u+1].z,2);for(var c=0;c<2;c++){o=e.pivoting(o,3,c);for(var l=o[c][c],h=c+1;h<3;h++)for(var p=o[h][c],f=c;f<4;++f)o[h][f]=o[h][f]-p*(o[c][f]/l)}o[2][3]=o[2][3]/o[2][2];for(var d=1;d>=0;d--){for(var v=0,m=d+1;m<3;m++)v+=o[d][m]*o[m][3];o[d][3]=(o[d][3]-v)/o[d][d]}var y=new s.default(o[0][3],o[1][3],o[2][3]),g=y.sub(t).length();return new e(y.x,y.y,y.z,g)}}]),e}());t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=r(o),u=n(5),c=r(u),l=n(2),h=r(l),p=n(6),f=r(p),d=Math.sqrt(3),v=1/Math.sqrt(3),m=n(47),y=n(48),g=n(45),_=n(46),b=function(){function e(t,n){i(this,e),this.zb=t,this.zc=n,this.updateListeners=[],this.selectedComponentId=-1,this.pointRadius=.02,this.lineWidth=.01,this.numFaces=0,this.numSpheres=0,this.numPlanes=0,this.vertexIndexes=[],this.numVertexes=this.vertexIndexes.length,this.prismSpheres=new Array(3),this.planes=[]}return a(e,[{key:"addUpdateListener",value:function(e){this.updateListeners.push(e)}},{key:"updated",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.updateListeners[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){(0,r.value)()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"update",value:function(){this.computeSpheres(),this.computeGenSpheres(),this.computeVertexes(),this.computeSeedSpheres(),this.computeConvexSphere(),this.computeBoundingVolume(),this.updated()}},{key:"computeSpheres",value:function(){}},{key:"computeGenSpheres",value:function(){}},{key:"computeVertexes",value:function(){this.vertexes=[];var e=!0,t=!1,n=void 0;try{for(var r,i=this.vertexIndexes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;this.vertexes.push(this.computeIdealVertex(this.gSpheres[a[0]],this.gSpheres[a[1]],this.gSpheres[a[2]]))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.p1=this.inversionSphere.invertOnPoint(this.vertexes[0]);var o=this.inversionSphere.invertOnPoint(this.vertexes[1]),s=this.inversionSphere.invertOnPoint(this.vertexes[2]),u=o.sub(this.p1),c=s.sub(this.p1);this.dividePlaneNormal=h.default.cross(u,c).normalize(),this.dividePlaneNormal.y<0&&(this.dividePlaneNormal=this.dividePlaneNormal.scale(-1))}},{key:"computeSeedSpheres",value:function(){this.seedSpheres=[];for(var e=0;e<this.numVertexes;e++)this.addSphereIfNotExists(this.seedSpheres,this.computeMinSeedSphere(this.vertexes[e],this.vertexes,this.gSpheres[this.vertexIndexes[e][0]],this.gSpheres[this.vertexIndexes[e][1]],this.gSpheres[this.vertexIndexes[e][2]]))}},{key:"computeConvexSphere",value:function(){}},{key:"computeBoundingVolume",value:function(){this.boundingPlaneY=Number.MIN_VALUE;var e=Number.MAX_VALUE,t=!0,n=!1,r=void 0;try{for(var i,a=this.prismSpheres[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.boundingPlaneY=Math.max(this.boundingPlaneY,o.center.y),e=Math.min(e,o.center.y)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.inversionSphere.center.y<e?this.boundingSphere=this.inversionSphere.invertOnPlane(new c.default(new h.default(1,e,-9),new h.default(-4,e,-4),new h.default(10,e,3),new h.default(0,1,0))):this.boundingSphere=this.inversionSphere.invertOnPlane(new c.default(new h.default(1,this.boundingPlaneY,-9),new h.default(-4,this.boundingPlaneY,-4),new h.default(10,this.boundingPlaneY,3),new h.default(0,1,0))),this.boundingPlaneY+=1.01,this.boundingSphere.r*=1.01,this.boundingSphere.update()}},{key:"getUniformLocations",value:function(e,t){var n=[];n.push(e.getUniformLocation(t,"u_zbzc")),n.push(e.getUniformLocation(t,"u_ui")),n.push(e.getUniformLocation(t,"u_inversionSphere.center")),n.push(e.getUniformLocation(t,"u_inversionSphere.r")),n.push(e.getUniformLocation(t,"u_convexSphere.center")),n.push(e.getUniformLocation(t,"u_convexSphere.r")),n.push(e.getUniformLocation(t,"u_dividePlaneOrigin")),n.push(e.getUniformLocation(t,"u_dividePlaneNormal")),n.push(e.getUniformLocation(t,"u_numPrismSpheres")),n.push(e.getUniformLocation(t,"u_numPrismPlanes")),n.push(e.getUniformLocation(t,"u_numSeedSpheres")),n.push(e.getUniformLocation(t,"u_numGenSpheres")),n.push(e.getUniformLocation(t,"u_boundingPlaneY")),n.push(e.getUniformLocation(t,"u_boundingSphere.center")),n.push(e.getUniformLocation(t,"u_boundingSphere.r"));for(var r=0;r<this.numSpheres;r++)n.push(e.getUniformLocation(t,"u_prismSpheres["+r+"].center")),n.push(e.getUniformLocation(t,"u_prismSpheres["+r+"].r"));for(var i=0;i<this.numPlanes;i++)n.push(e.getUniformLocation(t,"u_prismPlanes["+i+"].origin")),n.push(e.getUniformLocation(t,"u_prismPlanes["+i+"].normal"));for(var a=0;a<this.numFaces;a++)n.push(e.getUniformLocation(t,"u_spheirahedraSpheres["+a+"].center")),n.push(e.getUniformLocation(t,"u_spheirahedraSpheres["+a+"].r"));for(var o=0;o<this.numVertexes;o++)n.push(e.getUniformLocation(t,"u_seedSpheres["+o+"].center")),n.push(e.getUniformLocation(t,"u_seedSpheres["+o+"].r"));return n}},{key:"setUniformValues",value:function(e,t,n,r){e.uniform2f(t[n++],this.zb,this.zc),e.uniform2f(t[n++],this.pointRadius*r,this.lineWidth*r),e.uniform3f(t[n++],this.inversionSphere.center.x,this.inversionSphere.center.y,this.inversionSphere.center.z),e.uniform2f(t[n++],this.inversionSphere.r,this.inversionSphere.rSq),e.uniform3f(t[n++],this.convexSphere.center.x,this.convexSphere.center.y,this.convexSphere.center.z),e.uniform2f(t[n++],this.convexSphere.r,this.convexSphere.rSq),e.uniform3f(t[n++],this.p1.x,this.p1.y,this.p1.z),e.uniform3f(t[n++],this.dividePlaneNormal.x,this.dividePlaneNormal.y,this.dividePlaneNormal.z),e.uniform1i(t[n++],this.numSpheres),e.uniform1i(t[n++],this.numPlanes),e.uniform1i(t[n++],this.numVertexes),e.uniform1i(t[n++],this.numFaces),e.uniform1f(t[n++],this.boundingPlaneY),e.uniform3f(t[n++],this.boundingSphere.center.x,this.boundingSphere.center.y,this.boundingSphere.center.z),e.uniform2f(t[n++],this.boundingSphere.r,this.boundingSphere.rSq);for(var i=0;i<this.numSpheres;i++)e.uniform3f(t[n++],this.prismSpheres[i].center.x,this.prismSpheres[i].center.y,this.prismSpheres[i].center.z),e.uniform2f(t[n++],this.prismSpheres[i].r,this.prismSpheres[i].rSq);for(var a=0;a<this.numPlanes;a++)e.uniform3f(t[n++],this.planes[a].p1.x,this.planes[a].p1.y,this.planes[a].p1.z),e.uniform3f(t[n++],this.planes[a].normal.x,this.planes[a].normal.y,this.planes[a].normal.z);for(var o=0;o<this.numFaces;o++)e.uniform3f(t[n++],this.gSpheres[o].center.x,this.gSpheres[o].center.y,this.gSpheres[o].center.z),e.uniform2f(t[n++],this.gSpheres[o].r,this.gSpheres[o].rSq);for(var s=0;s<this.numVertexes;s++)e.uniform3f(t[n++],this.seedSpheres[s].center.x,this.seedSpheres[s].center.y,this.seedSpheres[s].center.z),e.uniform2f(t[n++],this.seedSpheres[s].r,this.seedSpheres[s].rSq);return n}},{key:"computeSeedSphere",value:function(e,t,n,r,i){var a=r.center.sub(n.center),o=i.center.sub(n.center),u=h.default.cross(a,o),c=t.sub(e).lengthSq()/(2*h.default.dot(t.sub(e),u)),l=e.add(u.scale(c));return new s.default(l.x,l.y,l.z,Math.abs(c)*u.length())}},{key:"addSphereIfNotExists",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(Math.abs(s.r,t.r)<1e-5&&h.default.distance(s.center,t.center)<1e-5)return void console.log("duplicate")}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}e.push(t)}},{key:"computeIdealVertex",value:function(e,t,n){var r=.5*(e.center.lengthSq()-t.center.lengthSq()-e.rSq+t.rSq)-e.center.lengthSq()+h.default.dot(e.center,t.center),i=.5*(e.center.lengthSq()-n.center.lengthSq()-e.rSq+n.rSq)-e.center.lengthSq()+h.default.dot(e.center,n.center),a=-e.center.lengthSq()-t.center.lengthSq()+2*h.default.dot(e.center,t.center),o=-e.center.lengthSq()-n.center.lengthSq()+2*h.default.dot(e.center,n.center),s=-e.center.lengthSq()+h.default.dot(e.center,t.center)+h.default.dot(e.center,n.center)-h.default.dot(t.center,n.center),u=(r*o-i*s)/(a*o-s*s),c=(i*a-r*s)/(a*o-s*s);return e.center.add(t.center.sub(e.center).scale(u)).add(n.center.sub(e.center).scale(c))}},{key:"computeMinSeedSphere",value:function(e,t,n,r,i){var a=new s.default(0,0,0,99999999999),o=!0,u=!1,c=void 0;try{for(var l,p=t[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){var f=l.value;if(!(h.default.distance(e,f)<1e-6)){var d=this.computeSeedSphere(e,f,n,r,i);d.r<a.r&&(a=d)}}}catch(e){u=!0,c=e}finally{try{!o&&p.return&&p.return()}finally{if(u)throw c}}return a}},{key:"select",value:function(t,n){var r=new f.default(this.zb,this.zc);if(f.default.distance(t,new f.default(this.zb,this.zc))<.1)return this.selectedComponentId=e.POINT_ZB_ZC,void(this.diffToComponent=t.sub(r));this.selectedComponentId=-1}},{key:"move",value:function(t){if(this.selectedComponentId===e.POINT_ZB_ZC){var n=t.sub(this.diffToComponent);return this.zb=n.x,this.zc=n.y,this.update(),!0}return!1}},{key:"getShaderTemplateContext",value:function(){return{numPrismSpheres:this.numSpheres,numPrismPlanes:this.numPlanes,numSpheirahedraSpheres:this.numFaces,numSeedSpheres:this.numVertexes}}},{key:"getParameterSpaceContext",value:function(){return{conditions:[]}}},{key:"buildPrismShader",value:function(){return m.render(this.getShaderTemplateContext())}},{key:"buildSpheirahedraShader",value:function(){return y.render(this.getShaderTemplateContext())}},{key:"buildLimitsetShader",value:function(e){var t=this.getShaderTemplateContext();return t.renderMode=e,g.render(t)}},{key:"buildParameterSpaceShader",value:function(){return _.render(this.getParameterSpaceContext())}}],[{key:"POINT_ZB_ZC",get:function(){return 0}},{key:"PRISM_PLANES_333",get:function(){return[new c.default(new h.default(0,5,v),new h.default(1,1,0),new h.default(2,2,-v),new h.default(.5*d,0,1.5).normalize()),new c.default(new h.default(0,3,-v),new h.default(1,3,0),new h.default(2,2,v),new h.default(.5*d,0,-1.5).normalize()),new c.default(new h.default(-.5,0,1),new h.default(-.5,1,0),new h.default(-.5,2,1),new h.default(-1,0,0))]}},{key:"PRISM_PLANES_236",get:function(){return[new c.default(new h.default(.5,5,.5*d),new h.default(1,1,0),new h.default(.75,2,.25*d),new h.default(1,0,v).normalize()),new c.default(new h.default(1,0,0),new h.default(0,5,-d/3),new h.default(-.5,2,.5*-d),new h.default(1,0,-d).normalize()),new c.default(new h.default(.5,3,.5*d),new h.default(0,-10,0),new h.default(-.5,-3,.5*-d),new h.default(-1,0,v).normalize())]}},{key:"PRISM_PLANES_244",get:function(){return[new c.default(new h.default(0,5,1),new h.default(.5,1,.5),new h.default(1,2,0),new h.default(.5,0,.5).normalize()),new c.default(new h.default(0,3,-1),new h.default(.5,3,-.5),new h.default(1,2,0),new h.default(.5,0,-.5).normalize()),new c.default(new h.default(0,-7,1),new h.default(0,-4,0),new h.default(0,8,-1),new h.default(-1,0,0))]}},{key:"PRISM_PLANES_2222_SQUARE",get:function(){return[new c.default(new h.default(0,5,1),new h.default(.5,1,.5),new h.default(1,2,0),new h.default(.5,0,.5).normalize()),new c.default(new h.default(0,5,1),new h.default(-.5,1,.5),new h.default(-1,2,0),new h.default(-.5,0,.5).normalize()),new c.default(new h.default(0,5,-1),new h.default(-.5,1,-.5),new h.default(-1,2,0),new h.default(-.5,0,-.5).normalize()),new c.default(new h.default(0,3,-1),new h.default(.5,3,-.5),new h.default(1,2,0),new h.default(.5,0,-.5).normalize())]}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,i){r(this,e),this.x=t,this.y=n,this.z=i}return i(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y,this.z+t.z)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z)}},{key:"prod",value:function(t){return new e(this.x*t.x,this.y*t.y,this.z*t.z)}},{key:"div",value:function(t){return new e(this.x/t.x,this.y/t.y,this.z/t.z)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t,this.z*t)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"normalize",value:function(){return this.scale(1/this.length())}},{key:"rotateAroundX",value:function(t){var n=Math.cos(t),r=Math.sin(t);return new e(this.x,n*this.y+-r*this.z,r*this.y+n*this.z)}},{key:"rotateAroundY",value:function(t){var n=Math.cos(t),r=Math.sin(t);return new e(n*this.x+r*this.z,this.y,-r*this.x+n*this.z)}},{key:"rotateAroundZ",value:function(t){var n=Math.cos(t),r=Math.sin(t);return new e(n*this.x-r*this.y,r*this.x+n*this.y,this.z)}}],[{key:"normalize",value:function(e){return e.normalize()}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"cross",value:function(t,n){return new e(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z,t.x*n.y-t.y*n.x)}},{key:"distance",value:function(e,t){var n=e.sub(t);return Math.sqrt(n.x*n.x+n.y*n.y)}}]),e}();t.default=a},function(e,t){e.exports=function(e,t,n,r){var i=n.root;n.root=function(e,t,n,a,o,s){var u=e.getTemplate;e.getTemplate=function(e,t,i,a,o){"function"==typeof t&&(o=t=!1);var s=function(e){try{return r[e]}catch(t){if(n.get("_require"))return n.get("_require")(e);console.warn('Could not load template "%s"',e)}},u=s(e);n.set("_require",s),t&&u.compile(),o(null,u)},i(e,t,n,a,o,function(t,n){e.getTemplate=u,s(t,n)})};var a={obj:n,type:"code"};return new e.Template(a,t)}},function(e,t,n){(function(t,n){/*! Browser bundle of nunjucks 3.0.1 (slim, only works with precompiled templates) */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(15),o=n(3),s=n(3);e.exports={},e.exports.Environment=i.Environment,e.exports.Template=i.Template,e.exports.Loader=a,e.exports.FileSystemLoader=o.FileSystemLoader,e.exports.PrecompiledLoader=o.PrecompiledLoader,e.exports.WebLoader=o.WebLoader,e.exports.compiler=n(3),e.exports.parser=n(3),e.exports.lexer=n(3),e.exports.runtime=n(8),e.exports.lib=r,e.exports.nodes=n(3),e.exports.installJinjaCompat=n(16);var u;e.exports.configure=function(e,t){t=t||{},r.isObject(e)&&(t=e,e=null);var n;return o.FileSystemLoader?n=new o.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):o.WebLoader&&(n=new o.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),u=new i.Environment(n,t),t&&t.express&&u.express(t.express),u},e.exports.compile=function(t,n,r,i){return u||e.exports.configure(),new e.exports.Template(t,n,r,i)},e.exports.render=function(t,n,r){return u||e.exports.configure(),u.render(t,n,r)},e.exports.renderString=function(t,n,r){return u||e.exports.configure(),u.renderString(t,n,r)},s&&(e.exports.precompile=s.precompile,e.exports.precompileString=s.precompileString)},function(e,t){"use strict";var n=Array.prototype,r=Object.prototype,i={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},a=/[&"'<>]/g,o=function(e){return i[e]},t=e.exports={};t.prettifyError=function(e,n,r){if(r.Update||(r=new t.TemplateError(r)),r.Update(e),!n){var i=r;r=new Error(i.message),r.name=i.name}return r},t.TemplateError=function(e,t,n){var r=this;if(e instanceof Error){r=e,e=e.name+": "+e.message;try{r.name=""}catch(e){r=this}}else Error.captureStackTrace&&Error.captureStackTrace(r);return r.name="Template render error",r.message=e,r.lineno=t,r.colno=n,r.firstUpdate=!0,r.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},r},t.TemplateError.prototype=Error.prototype,t.escape=function(e){return e.replace(a,o)},t.isFunction=function(e){return"[object Function]"===r.toString.call(e)},t.isArray=Array.isArray||function(e){return"[object Array]"===r.toString.call(e)},t.isString=function(e){return"[object String]"===r.toString.call(e)},t.isObject=function(e){return"[object Object]"===r.toString.call(e)},t.groupBy=function(e,n){for(var r={},i=t.isFunction(n)?n:function(e){return e[n]},a=0;a<e.length;a++){var o=e[a],s=i(o,a);(r[s]||(r[s]=[])).push(o)}return r},t.toArray=function(e){return Array.prototype.slice.call(e)},t.without=function(e){var n=[];if(!e)return n;for(var r=-1,i=e.length,a=t.toArray(arguments).slice(1);++r<i;)-1===t.indexOf(a,e[r])&&n.push(e[r]);return n},t.extend=function(e,t){for(var n in t)e[n]=t[n];return e},t.repeat=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},t.each=function(e,t,r){if(null!=e)if(n.each&&e.each===n.each)e.forEach(t,r);else if(e.length===+e.length)for(var i=0,a=e.length;i<a;i++)t.call(r,e[i],i,e)},t.map=function(e,t){var r=[];if(null==e)return r;if(n.map&&e.map===n.map)return e.map(t);for(var i=0;i<e.length;i++)r[r.length]=t(e[i],i);return e.length===+e.length&&(r.length=e.length),r},t.asyncIter=function(e,t,n){function r(){i++,i<e.length?t(e[i],i,r,n):n()}var i=-1;r()},t.asyncFor=function(e,n,r){function i(){s++;var t=a[s];s<o?n(t,e[t],s,o,i):r()}var a=t.keys(e),o=a.length,s=-1;i()},t.indexOf=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){var r=this.length>>>0;for(n=+n||0,Math.abs(n)===1/0&&(n=0),n<0&&(n+=r)<0&&(n=0);n<r;n++)if(e[n]===t)return n;return-1},Array.prototype.map||(Array.prototype.map=function(){throw new Error("map is unimplemented for this js engine")}),t.keys=function(e){if(Object.prototype.keys)return e.keys();var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},t.inOperator=function(e,n){if(t.isArray(n))return-1!==t.indexOf(n,e);if(t.isObject(n))return e in n;if(t.isString(n))return-1!==n.indexOf(e);throw new Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},function(e,t,n){"use strict";function r(e,t,n){o(function(){e(t,n)})}var i,a=n(3),o=n(4),s=n(1),u=n(6),c=n(3),l=n(7),h=n(3),p=n(8),f=n(9),d=n(10),v=p.Frame;h.PrecompiledLoader=n(14);var m=u.extend({init:function(e,t){t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=s.isArray(e)?e:[e]:h.FileSystemLoader?this.loaders=[new h.FileSystemLoader("views")]:h.WebLoader&&(this.loaders=[new h.WebLoader("/views")]),window.nunjucksPrecompiled&&this.loaders.unshift(new h.PrecompiledLoader(window.nunjucksPrecompiled)),this.initCache(),this.globals=f(),this.filters={},this.asyncFilters=[],this.extensions={},this.extensionsList=[];for(var n in l)this.addFilter(n,l[n])},initCache:function(){s.each(this.loaders,function(e){e.cache={},"function"==typeof e.on&&e.on("update",function(t){e.cache[t]=null})})},addExtension:function(e,t){return t._name=e,this.extensions[e]=t,this.extensionsList.push(t),this},removeExtension:function(e){var t=this.getExtension(e);t&&(this.extensionsList=s.without(this.extensionsList,t),delete this.extensions[e])},getExtension:function(e){return this.extensions[e]},hasExtension:function(e){return!!this.extensions[e]},addGlobal:function(e,t){return this.globals[e]=t,this},getGlobal:function(e){if(void 0===this.globals[e])throw new Error("global not found: "+e);return this.globals[e]},addFilter:function(e,t,n){var r=t;return n&&this.asyncFilters.push(e),this.filters[e]=r,this},getFilter:function(e){if(!this.filters[e])throw new Error("filter not found: "+e);return this.filters[e]},resolveTemplate:function(e,t,n){return!(e.isRelative&&t&&e.isRelative(n)&&e.resolve)?n:e.resolve(t,n)},getTemplate:function(e,t,n,r,a){var o=this,u=null;if(e&&e.raw&&(e=e.raw),s.isFunction(n)&&(a=n,n=null,t=t||!1),s.isFunction(t)&&(a=t,t=!1),e instanceof i)u=e;else{if("string"!=typeof e)throw new Error("template names must be a string: "+e);for(var c=0;c<this.loaders.length;c++){var l=this.resolveTemplate(this.loaders[c],n,e);if(u=this.loaders[c].cache[l])break}}if(!u){var h,p=this,f=function(n,o){if(o||n||r||(n=new Error("template not found: "+e)),n){if(!a)throw n;a(n)}else{var s;o?(s=new i(o.src,p,o.path,t),o.noCache||(o.loader.cache[e]=s)):s=new i("",p,"",t),a?a(null,s):h=s}};return s.asyncIter(this.loaders,function(t,r,i,a){function s(e,n){e?a(e):n?(n.loader=t,a(null,n)):i()}e=o.resolveTemplate(t,n,e),t.async?t.getSource(e,s):s(null,t.getSource(e))},f),h}if(t&&u.compile(),!a)return u;a(null,u)},express:function(e){function t(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=a.extname(e),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}var n=this;return t.prototype.render=function(e,t){n.render(this.name,e,t)},e.set("view",t),e.set("nunjucksEnv",this),this},render:function(e,t,n){s.isFunction(t)&&(n=t,t=null);var i=null;return this.getTemplate(e,function(e,a){if(e&&n)r(n,e);else{if(e)throw e;i=a.render(t,n)}}),i},renderString:function(e,t,n,r){return s.isFunction(n)&&(r=n,n={}),n=n||{},new i(e,this,n.path).render(t,r)},waterfall:d}),y=u.extend({init:function(e,t,n){this.env=n||new m,this.ctx={};for(var r in e)e.hasOwnProperty(r)&&(this.ctx[r]=e[r]);this.blocks={},this.exported=[];for(var i in t)this.addBlock(i,t[i])},lookup:function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},setVariable:function(e,t){this.ctx[e]=t},getVariables:function(){return this.ctx},addBlock:function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},getBlock:function(e){if(!this.blocks[e])throw new Error('unknown block "'+e+'"');return this.blocks[e][0]},getSuper:function(e,t,n,r,i,a){var o=s.indexOf(this.blocks[t]||[],n),u=this.blocks[t][o+1],c=this;if(-1===o||!u)throw new Error('no super block available for "'+t+'"');u(e,c,r,i,a)},addExport:function(e){this.exported.push(e)},getExported:function(){for(var e={},t=0;t<this.exported.length;t++){var n=this.exported[t];e[n]=this.ctx[n]}return e}});i=u.extend({init:function(e,t,n,r){if(this.env=t||new m,s.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj}else{if(!s.isString(e))throw new Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=n,r){var i=this;try{i._compile()}catch(e){throw s.prettifyError(this.path,this.env.opts.dev,e)}}else this.compiled=!1},render:function(e,t,n){"function"==typeof e?(n=e,e={}):"function"==typeof t&&(n=t,t=null);var i=!0;t&&(i=!1);var a=this;try{a.compile()}catch(e){var o=s.prettifyError(this.path,this.env.opts.dev,e);if(n)return r(n,o);throw o}var u=new y(e||{},a.blocks,a.env),c=t?t.push(!0):new v;c.topLevel=!0;var l=null;return a.rootRenderFunc(a.env,u,c||new v,p,function(e,t){if(e&&(e=s.prettifyError(a.path,a.env.opts.dev,e)),n)i?r(n,e,t):n(e,t);else{if(e)throw e;l=t}}),l},getExported:function(e,t,n){"function"==typeof e&&(n=e,e={}),"function"==typeof t&&(n=t,t=null);try{this.compile()}catch(e){if(n)return n(e);throw e}var r=t?t.push():new v;r.topLevel=!0;var i=new y(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,p,function(e){e?n(e,null):n(null,i.getExported())})},compile:function(){this.compiled||this._compile()},_compile:function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=c.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);e=new Function(t)()}this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},_getBlocks:function(e){var t={};for(var n in e)"b_"===n.slice(0,2)&&(t[n.slice(2)]=e[n]);return t}}),e.exports={Environment:m,Template:i}},function(e,t){},function(e,t,n){"use strict";function r(){if(u.length)throw u.shift()}function i(e){var t;t=s.length?s.pop():new a,t.task=e,o(t)}function a(){this.task=null}var o=n(5),s=[],u=[],c=o.makeRequestCallFromTimer(r);e.exports=i,a.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(u.push(e),c())}finally{this.task=null,s[s.length]=this}}},function(e,t){(function(t){"use strict";function n(e){o.length||(a(),s=!0),o[o.length]=e}function r(){for(;u<o.length;){var e=u;if(u+=1,o[e].call(),u>c){for(var t=0,n=o.length-u;t<n;t++)o[t]=o[t+u];o.length-=u,u=0}}o.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var a,o=[],s=!1,u=0,c=1024,l=void 0!==t?t:self,h=l.MutationObserver||l.WebKitMutationObserver;a="function"==typeof h?function(e){var t=1,n=new h(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t,r){var i=function(){};i.prototype=e.prototype;var a=new i,o=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;r=r||{};for(var s in r){var u=r[s],c=a[s];"function"==typeof c&&"function"==typeof u&&o.test(u)?a[s]=function(e,t){return function(){var n=this.parent;this.parent=t;var r=e.apply(this,arguments);return this.parent=n,r}}(u,c):a[s]=u}a.typename=t;var l=function(){a.init&&a.init.apply(this,arguments)};return l.prototype=a,l.prototype.constructor=l,l.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),n(l,e,t)},l}e.exports=n(Object,"Object",{})},function(e,t,n){"use strict";function r(e,t){return null===e||void 0===e||!1===e?t:e}var i=n(1),a=n(8),o={abs:Math.abs,batch:function(e,t,n){var r,i=[],a=[];for(r=0;r<e.length;r++)r%t==0&&a.length&&(i.push(a),a=[]),a.push(e[r]);if(a.length){if(n)for(r=a.length;r<t;r++)a.push(n);i.push(a)}return i},capitalize:function(e){e=r(e,"");var t=e.toLowerCase();return a.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))},center:function(e,t){if(e=r(e,""),t=t||80,e.length>=t)return e;var n=t-e.length,o=i.repeat(" ",n/2-n%2),s=i.repeat(" ",n/2);return a.copySafeness(e,o+e+s)},default:function(e,t,n){return n?e||t:void 0!==e?e:t},dictsort:function(e,t,n){if(!i.isObject(e))throw new i.TemplateError("dictsort filter: val must be an object");var r=[];for(var a in e)r.push([a,e[a]]);var o;if(void 0===n||"key"===n)o=0;else{if("value"!==n)throw new i.TemplateError("dictsort filter: You can only sort by either key or value");o=1}return r.sort(function(e,n){var r=e[o],a=n[o];return t||(i.isString(r)&&(r=r.toUpperCase()),i.isString(a)&&(a=a.toUpperCase())),r>a?1:r===a?0:-1}),r},dump:function(e,t){return JSON.stringify(e,null,t)},escape:function(e){return e instanceof a.SafeString?e:(e=null===e||void 0===e?"":e,a.markSafe(i.escape(e.toString())))},safe:function(e){return e instanceof a.SafeString?e:(e=null===e||void 0===e?"":e,a.markSafe(e.toString()))},first:function(e){return e[0]},groupby:function(e,t){return i.groupBy(e,t)},indent:function(e,t,n){if(""===(e=r(e,"")))return"";t=t||4;for(var o="",s=e.split("\n"),u=i.repeat(" ",t),c=0;c<s.length;c++)o+=0!==c||n?u+s[c]+"\n":s[c]+"\n";return a.copySafeness(e,o)},join:function(e,t,n){return t=t||"",n&&(e=i.map(e,function(e){return e[n]})),e.join(t)},last:function(e){return e[e.length-1]},length:function(e){var t=r(e,"");return void 0!==t?"function"==typeof Map&&t instanceof Map||"function"==typeof Set&&t instanceof Set?t.size:!i.isObject(t)||t instanceof a.SafeString?t.length:Object.keys(t).length:0},list:function(e){if(i.isString(e))return e.split("");if(i.isObject(e)){var t=[];if(Object.keys)t=Object.keys(e);else for(var n in e)t.push(n);return i.map(t,function(t){return{key:t,value:e[t]}})}if(i.isArray(e))return e;throw new i.TemplateError("list filter: type not iterable")},lower:function(e){return e=r(e,""),e.toLowerCase()},nl2br:function(e){return null===e||void 0===e?"":a.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},random:function(e){return e[Math.floor(Math.random()*e.length)]},rejectattr:function(e,t){return e.filter(function(e){return!e[t]})},selectattr:function(e,t){return e.filter(function(e){return!!e[t]})},replace:function(e,t,n,r){var i=e;if(t instanceof RegExp)return e.replace(t,n);void 0===r&&(r=-1);var o="";if("number"==typeof t)t+="";else if("string"!=typeof t)return e;if("number"==typeof e&&(e+=""),"string"!=typeof e&&!(e instanceof a.SafeString))return e;if(""===t)return o=n+e.split("").join(n)+n,a.copySafeness(e,o);var s=e.indexOf(t);if(0===r||-1===s)return e;for(var u=0,c=0;s>-1&&(-1===r||c<r);)o+=e.substring(u,s)+n,u=s+t.length,c++,s=e.indexOf(t,u);return u<e.length&&(o+=e.substring(u)),a.copySafeness(i,o)},reverse:function(e){var t;return t=i.isString(e)?o.list(e):i.map(e,function(e){return e}),t.reverse(),i.isString(e)?a.copySafeness(e,t.join("")):t},round:function(e,t,n){t=t||0;var r=Math.pow(10,t);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(e*r)/r},slice:function(e,t,n){for(var r=Math.floor(e.length/t),i=e.length%t,a=0,o=[],s=0;s<t;s++){var u=a+s*r;s<i&&a++;var c=a+(s+1)*r,l=e.slice(u,c);n&&s>=i&&l.push(n),o.push(l)}return o},sum:function(e,t,n){var r=0;"number"==typeof n&&(r+=n),t&&(e=i.map(e,function(e){return e[t]}));for(var a=0;a<e.length;a++)r+=e[a];return r},sort:a.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(e,t,n,r){return e=i.map(e,function(e){return e}),e.sort(function(e,a){var o,s;return r?(o=e[r],s=a[r]):(o=e,s=a),!n&&i.isString(o)&&i.isString(s)&&(o=o.toLowerCase(),s=s.toLowerCase()),o<s?t?1:-1:o>s?t?-1:1:0}),e}),string:function(e){return a.copySafeness(e,e)},striptags:function(e,t){e=r(e,""),t=t||!1;var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,i=o.trim(e.replace(n,"")),s="";return s=t?i.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):i.replace(/\s+/gi," "),a.copySafeness(e,s)},title:function(e){e=r(e,"");for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=o.capitalize(t[n]);return a.copySafeness(e,t.join(" "))},trim:function(e){return a.copySafeness(e,e.replace(/^\s*|\s*$/g,""))},truncate:function(e,t,n,i){var o=e;if(e=r(e,""),t=t||255,e.length<=t)return e;if(n)e=e.substring(0,t);else{var s=e.lastIndexOf(" ",t);-1===s&&(s=t),e=e.substring(0,s)}return e+=void 0!==i&&null!==i?i:"...",a.copySafeness(o,e)},upper:function(e){return e=r(e,""),e.toUpperCase()},urlencode:function(e){var t=encodeURIComponent;if(i.isString(e))return t(e);var n;if(i.isArray(e))n=e.map(function(e){return t(e[0])+"="+t(e[1])});else{n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(t(r)+"="+t(e[r]))}return n.join("&")},urlize:function(e,t,n){isNaN(t)&&(t=1/0);var r=!0===n?' rel="nofollow"':"",i=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,a=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=/^https?:\/\/.*$/,s=/^www\./,u=/\.(?:org|net|com)(?:\:|\/|$)/;return e.split(/(\s+)/).filter(function(e){return e&&e.length}).map(function(e){var n=e.match(i),c=n&&n[1]||e;return o.test(c)?'<a href="'+c+'"'+r+">"+c.substr(0,t)+"</a>":s.test(c)?'<a href="http://'+c+'"'+r+">"+c.substr(0,t)+"</a>":a.test(c)?'<a href="mailto:'+c+'">'+c+"</a>":u.test(c)?'<a href="http://'+c+'"'+r+">"+c.substr(0,t)+"</a>":e}).join("")},wordcount:function(e){e=r(e,"");var t=e?e.match(/\w+/g):null;return t?t.length:null},float:function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},int:function(e,t){var n=parseInt(e,10);return isNaN(n)?t:n}};o.d=o.default,o.e=o.escape,e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return function(){var r,i,s=o(arguments),u=a(arguments);if(s>e.length){r=Array.prototype.slice.call(arguments,0,e.length);var c=Array.prototype.slice.call(arguments,r.length,s);for(i=0;i<c.length;i++)i<t.length&&(u[t[i]]=c[i]);r.push(u)}else if(s<e.length){for(r=Array.prototype.slice.call(arguments,0,s),i=s;i<e.length;i++){var l=e[i];r.push(u[l]),delete u[l]}r.push(u)}else r=arguments;return n.apply(this,r)}}function i(e){return e.__keywords=!0,e}function a(e){var t=e.length;if(t){var n=e[t-1];if(n&&n.hasOwnProperty("__keywords"))return n}return{}}function o(e){var t=e.length;if(0===t)return 0;var n=e[t-1];return n&&n.hasOwnProperty("__keywords")?t-1:t}function s(e){if("string"!=typeof e)return e;this.val=e,this.length=e.length}function u(e,t){return e instanceof s?new s(t):t.toString()}function c(e){var t=typeof e;return"string"===t?new s(e):"function"!==t?e:function(){var t=e.apply(this,arguments);return"string"==typeof t?new s(t):t}}function l(e,t){return e=void 0!==e&&null!==e?e:"",!t||e instanceof s||(e=g.escape(e.toString())),e}function h(e,t,n){if(null===e||void 0===e)throw new g.TemplateError("attempted to output null or undefined value",t+1,n+1);return e}function p(e,t){return e=e||{},"function"==typeof e[t]?function(){return e[t].apply(e,arguments)}:e[t]}function f(e,t,n,r){if(!e)throw new Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!=typeof e)throw new Error("Unable to call `"+t+"`, which is not a function");return e.apply(n,r)}function d(e,t,n){var r=t.lookup(n);return void 0!==r?r:e.lookup(n)}function v(e,t,n){return e.lineno?e:new g.TemplateError(e,t,n)}function m(e,t,n,r){if(g.isArray(e)){var i=e.length;g.asyncIter(e,function(e,r,a){switch(t){case 1:n(e,r,i,a);break;case 2:n(e[0],e[1],r,i,a);break;case 3:n(e[0],e[1],e[2],r,i,a);break;default:e.push(r,a),n.apply(this,e)}},r)}else g.asyncFor(e,function(e,t,r,i,a){n(e,t,r,i,a)},r)}function y(e,t,n,r){function i(e,t){u++,s[e]=t,u===a&&r(null,s.join(""))}var a,o,s,u=0;if(g.isArray(e))if(a=e.length,s=new Array(a),0===a)r(null,"");else for(o=0;o<e.length;o++){var c=e[o];switch(t){case 1:n(c,o,a,i);break;case 2:n(c[0],c[1],o,a,i);break;case 3:n(c[0],c[1],c[2],o,a,i);break;default:c.push(o,i),n.apply(this,c)}}else{var l=g.keys(e);if(a=l.length,s=new Array(a),0===a)r(null,"");else for(o=0;o<l.length;o++){var h=l[o];n(h,e[h],o,a,i)}}}var g=n(1),_=n(6),b=_.extend({init:function(e,t){this.variables={},this.parent=e,this.topLevel=!1,this.isolateWrites=t},set:function(e,t,n){var r=e.split("."),i=this.variables,a=this;if(n&&(a=this.resolve(r[0],!0)))return void a.set(e,t);for(var o=0;o<r.length-1;o++){var s=r[o];i[s]||(i[s]={}),i=i[s]}i[r[r.length-1]]=t},get:function(e){var t=this.variables[e];return void 0!==t?t:null},lookup:function(e){var t=this.parent,n=this.variables[e];return void 0!==n?n:t&&t.lookup(e)},resolve:function(e,t){var n=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:n&&n.resolve(e)},push:function(e){return new b(this,e)},pop:function(){return this.parent}});s.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),s.prototype.valueOf=function(){return this.val},s.prototype.toString=function(){return this.val},e.exports={Frame:b,makeMacro:r,makeKeywordArgs:i,numArgs:o,suppressValue:l,ensureDefined:h,memberLookup:p,contextOrFrameLookup:d,callWrap:f,handleError:v,isArray:g.isArray,keys:g.keys,SafeString:s,copySafeness:u,markSafe:c,asyncEach:m,asyncAll:y,inOperator:g.inOperator}},function(e,t){"use strict";function n(e){var t=-1;return{current:null,reset:function(){t=-1,this.current=null},next:function(){return t++,t>=e.length&&(t=0),this.current=e[t],this.current}}}function r(e){e=e||",";var t=!0;return function(){var n=t?"":e;return t=!1,n}}function i(){return{range:function(e,t,n){void 0===t?(t=e,e=0,n=1):n||(n=1);var r,i=[];if(n>0)for(r=e;r<t;r+=n)i.push(r);else for(r=e;r>t;r+=n)i.push(r);return i},cycler:function(){return n(Array.prototype.slice.call(arguments))},joiner:function(e){return r(e)}}}e.exports=i},function(e,t,n){var r,i;(function(n,a){!function(o){"use strict";var s=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&e[0].apply(null,e.splice(1))},u=function(e){"function"==typeof n?n(e):void 0!==a&&a.nextTick?a.nextTick(e):setTimeout(e,0)},c=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e,t,n){var r=n?u:s;if(t=t||function(){},!l(e)){var i=new Error("First argument to waterfall must be an array of functions");return t(i)}if(!e.length)return t();var a=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();o?i.push(a(o)):i.push(t),r(function(){e.apply(null,i)})}}};a(c(e))()};r=[],void 0!==(i=function(){return h}.apply(t,r))&&(e.exports=i)}()}).call(t,n(11).setImmediate,n(13))},function(e,r,i){function a(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;r.setTimeout=function(){return new a(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new a(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(12),r.setImmediate=t,r.clearImmediate=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(l)setTimeout(o,0,e);else{var t=c[e];if(t){l=!0;try{a(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,h=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var n=h.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),p.setImmediate=r,p.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),n(13))},function(e,t){},function(e,t,n){"use strict";var r=n(15),i=r.extend({init:function(e){this.precompiled=e||{}},getSource:function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null}});e.exports=i},function(e,t,n){"use strict";var r=n(3),i=n(6),a=n(1),o=i.extend({on:function(e,t){this.listeners=this.listeners||{},this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t)},emit:function(e){var t=Array.prototype.slice.call(arguments,1);this.listeners&&this.listeners[e]&&a.each(this.listeners[e],function(e){e.apply(null,t)})},resolve:function(e,t){return r.resolve(r.dirname(e),t)},isRelative:function(e){return 0===e.indexOf("./")||0===e.indexOf("../")}});e.exports=o},function(e,t){function n(){"use strict";function e(){r.contextOrFrameLookup=c,a.prototype.assertType=l,o.prototype.parseAggregate=h,r.memberLookup=p}function t(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}function n(e,t,n,i){e=e||[],null===t&&(t=i<0?e.length-1:0),null===n?n=i<0?-1:e.length:n<0&&(n+=e.length),t<0&&(t+=e.length);for(var a=[],o=t;!(o<0||o>e.length)&&!(i>0&&o>=n)&&!(i<0&&o<=n);o+=i)a.push(r.memberLookup(e,o));return a}var r=this.runtime,i=this.lib,a=this.compiler.Compiler,o=this.parser.Parser,s=this.nodes,u=this.lexer,c=r.contextOrFrameLookup,l=a.prototype.assertType,h=o.prototype.parseAggregate,p=r.memberLookup;r.contextOrFrameLookup=function(e,t,n){var r=c.apply(this,arguments);if(void 0===r)switch(n){case"True":return!0;case"False":return!1;case"None":return null}return r};var f=s.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,n,r,i){n=n||new s.Literal(e,t,null),r=r||new s.Literal(e,t,null),i=i||new s.Literal(e,t,1),this.parent(e,t,n,r,i)}});a.prototype.assertType=function(e){if(!(e instanceof f))return l.apply(this,arguments)},a.prototype.compileSlice=function(e,t){this.emit("("),this._compileExpression(e.start,t),this.emit("),("),this._compileExpression(e.stop,t),this.emit("),("),this._compileExpression(e.step,t),this.emit(")")},o.prototype.parseAggregate=function(){var e=this,n=t(this.tokens);n.colno--,n.index--;try{return h.apply(this)}catch(h){var r=t(this.tokens),a=function(){return i.extend(e.tokens,r),h};i.extend(this.tokens,n),this.peeked=!1;var o=this.peekToken();if(o.type!==u.TOKEN_LEFT_BRACKET)throw a();this.nextToken();for(var c=new f(o.lineno,o.colno),l=!1,p=0;p<=c.fields.length&&!this.skip(u.TOKEN_RIGHT_BRACKET);p++){if(p===c.fields.length){if(!l)break;this.fail("parseSlice: too many slice components",o.lineno,o.colno)}if(this.skip(u.TOKEN_COLON))l=!0;else{var d=c.fields[p];c[d]=this.parseExpression(),l=this.skip(u.TOKEN_COLON)||l}}if(!l)throw a();return new s.Array(o.lineno,o.colno,[c])}};var d={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw new Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw new Error("ValueError")},count:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw new Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},v={items:function(){var e=[];for(var t in this)e.push([t,this[t]]);return e},values:function(){var e=[];for(var t in this)e.push(this[t]);return e},keys:function(){var e=[];for(var t in this)e.push(t);return e},get:function(e,t){var n=this[e];return void 0===n&&(n=t),n},has_key:function(e){return this.hasOwnProperty(e)},pop:function(e,t){var n=this[e];if(void 0===n&&void 0!==t)n=t;else{if(void 0===n)throw new Error("KeyError");delete this[e]}return n},popitem:function(){for(var e in this){var t=this[e];return delete this[e],[e,t]}throw new Error("KeyError")},setdefault:function(e,t){return e in this?this[e]:(void 0===t&&(t=null),this[e]=t)},update:function(e){for(var t in e)this[t]=e[t];return null}};return v.iteritems=v.items,v.itervalues=v.values,v.iterkeys=v.keys,r.memberLookup=function(e,t,r){return 4===arguments.length?n.apply(this,arguments):(e=e||{},i.isArray(e)&&d.hasOwnProperty(t)?function(){return d[t].apply(e,arguments)}:i.isObject(e)&&v.hasOwnProperty(t)?function(){return v[t].apply(e,arguments)}:p.apply(this,arguments))},e}e.exports=n}])})}).call(t,n(16).setImmediate,n(16).clearImmediate)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=(function(e){e&&e.__esModule}(i),function e(t,n,i,a){r(this,e),this.p1=t,this.p2=n,this.p3=i,this.normal=a});t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this.x=t,this.y=n}return i(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"prod",value:function(t){return new e(this.x*t.x,this.y*t.y)}},{key:"div",value:function(t){return new e(this.x/t.x,this.y/t.y)}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){return this.scale(1/this.length())}},{key:"eq",value:function(t){return Math.abs(this.x-t.x)<=e.EPSILON&&Math.abs(this.y-t.y<=e.EPSILON)}},{key:"cloneDeeply",value:function(){return new e(this.x,this.y)}}],[{key:"normalize",value:function(e){return e.normalize()}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"distance",value:function(e,t){var n=e.sub(t);return Math.sqrt(n.x*n.x+n.y*n.y)}},{key:"EPSILON",get:function(){return 1e-5}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){new p;return e.getContext("webgl2")}function i(e,t){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),n}function a(e){return i(e,f)}function o(e,t){new p;e.linkProgram(t),e.useProgram(t)}function s(e,t,n,r){new p;console.log("AttachShader");var i=e.createShader(r);e.shaderSource(i,t),e.compileShader(i),e.attachShader(n,i),console.log("Done")}function u(e,t,n,r,i,a){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGB,t,n,0,e.RGB,a,null),e.bindTexture(e.TEXTURE_2D,null),o}function c(e,t,n,r){for(var i=[],a=0;a<r;a++)i.push(u(e,t,n,e.RGB,e.RGB,e.UNSIGNED_BYTE,r));return i}function l(e,t,n,r,i,a){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,a,null),e.bindTexture(e.TEXTURE_2D,null),o}function h(e,t,n,r){for(var i=[],a=0;a<r;a++)i.push(u(e,t,n,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r));return i}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(){this.captured=[]}return e.prototype._capt=function(e,t){return this.captured.push({value:e,espath:t}),e},e.prototype._expr=function(e,t){var n=this.captured;return this.captured=[],{powerAssertContext:{value:e,events:n},source:t}},e}();t.GetWebGL2Context=r,t.CreateStaticVbo=i,t.CreateSquareVbo=a,t.LinkProgram=o,t.AttachShader=s,t.CreateRGBTexture2D=u,t.CreateRGBTextures=c,t.CreateRGBATexture2D=l,t.CreateRGBATextures=h;var f=[-1,-1,-1,1,1,-1,1,1]},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={}),o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/color.njk.frag"]=function(){function e(e,t,n,r,i){var a="";try{var o=null;a+="// front to back blend\nvec4 BlendCol(vec4 srcC, vec4 outC){\n\tsrcC.rgb *= srcC.a;\n\treturn outC + srcC * (1.0 - outC.a);\n}\n\nvec3 Hsv2rgb(float h, float s, float v){\n    vec3 c = vec3(h, s, v);\n    const vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nconst float DISPLAY_GAMMA_COEFF = 1. / 2.2;\nvec4 GammaCorrect(vec4 rgba) {\n    return vec4((min(pow(rgba.r, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.g, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.b, DISPLAY_GAMMA_COEFF), 1.)),\n                rgba.a);\n}\n\nconst vec3 BLACK = vec3(0);\nconst vec3 WHITE = vec3(1);\nconst vec3 GRAY = vec3(0.78);\nconst vec3 RED = vec3(0.8, 0, 0);\nconst vec3 GREEN = vec3(0, 0.8, 0);\nconst vec3 BLUE = vec3(0, 0, 0.8);\nconst vec3 YELLOW = vec3(1, 1, 0);\nconst vec3 PINK = vec3(.78, 0, .78);\nconst vec3 LIGHT_BLUE = vec3(0, 1, 1);\n",o?o.rootRenderFunc(e,t,n,r,i):i(null,a)}catch(e){i(r.handleError(e,null,null))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/color.njk.frag"],a)},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={}),o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/raytrace.njk.frag"]=function(){function e(e,t,n,r,i){var a=null,o=null,s="";try{var u=null;s+="vec3 CalcRay (const vec3 eye, const vec3 target, const vec3 up, const float fov,\n              const vec2 resolution, const vec2 coord){\n    float imagePlane = (resolution.y * .5) / tan(fov * .5);\n    vec3 v = normalize(target - eye);\n    vec3 xaxis = normalize(cross(v, up));\n    vec3 yaxis =  normalize(cross(v, xaxis));\n    vec3 center = v * imagePlane;\n    vec3 origin = center - (xaxis * (resolution.x  *.5)) - (yaxis * (resolution.y * .5));\n    return normalize(origin + (xaxis * coord.x) + (yaxis * (resolution.y - coord.y)));\n}\n\nstruct IsectInfo {\n    int objId;\n    int objIndex;\n    int objComponentId;\n    vec3 normal;\n    vec3 intersection;\n    float mint;\n    float maxt;\n    vec3 matColor;\n    bool hit;\n};\n\nfloat MAX_FLOAT = 1e20;\nconst float THRESHOLD = 0.001;\n\nIsectInfo NewIsectInfo() {\n    IsectInfo isectInfo;\n    isectInfo.objId = -1;\n    isectInfo.objIndex = -1;\n    isectInfo.objComponentId = -1;\n    isectInfo.mint = MAX_FLOAT;\n    isectInfo.maxt = 9999999.;\n    isectInfo.hit = false;\n    return isectInfo;\n}\n\nbool IntersectBoundingSphere(vec3 sphereCenter, float radius,\n                             vec3 rayOrigin, vec3 rayDir,\n                             out float t0, out float t1){\n\tvec3 v = rayOrigin - sphereCenter;\n\tfloat b = dot(rayDir, v);\n\tfloat c = dot(v, v) - radius * radius;\n\tfloat d = b * b - c;\n\tconst float EPSILON = 0.0001;\n\tif(d >= 0.){\n\t\tfloat s = sqrt(d);\n\t\tfloat tm = -b - s;\n\t\tt0 = tm;\n\t\tif(tm <= EPSILON){\n\t\t\ttm = -b + s;\n            t1 = tm;\n\t\t\tt0 = 0.;\n\t\t}else{\n\t\t\tt1 = -b + s;\n\t\t}\n\t\tif(EPSILON < tm){\n\t\t\treturn true;\n\t\t}\n\t}\n    t0 = 0.;\n    t1 = MAX_FLOAT;\n\treturn false;\n}\n\nbool IntersectBoundingPlane(const vec3 n, const vec3 p,\n\t\t\t\t\t\t\tconst vec3 rayOrigin, const vec3 rayDir,\n\t\t\t\t\t\t\tout float t0, out float t1) {\n\tfloat d = -dot(p, n);\n    float v = dot(n, rayDir);\n    float t = -(dot(n, rayOrigin) + d) / v;\n    if(THRESHOLD < t){\n\t\tif(v < 0.) {\n\t\t\tt0 = t;\n\t\t\tt1 = MAX_FLOAT;\n\t\t} else {\n\t\t\tt0 = 0.;\n\t\t\tt1 = t;\n\t\t}\n\t\treturn true;\n    }\n    t0 = 0.;\n    t1 = MAX_FLOAT;\n\treturn (v < 0.);\n}\n\nvec2 Rand2n(const vec2 co, const float sampleIndex) {\n    vec2 seed = co * (sampleIndex + 1.0);\n    seed+=vec2(-1,1);\n    // implementation based on: lumina.sourceforge.net/Tutorials/Noise.html\n    return vec2(fract(sin(dot(seed.xy ,vec2(12.9898,78.233))) * 43758.5453),\n                fract(cos(dot(seed.xy ,vec2(4.898,7.23))) * 23421.631));\n}\n\nvec4 DistUnion(vec4 t1, vec4 t2) {\n    return (t1.x < t2.x) ? t1 : t2;\n}\n\nfloat DistPlane(const vec3 pos, const vec3 p, const vec3 normal) {\n    return dot(pos - p, normal);\n}\n\nvoid IntersectSphere(const int objId, const int objIndex, const int objComponentId,\n                     const vec3 matColor,\n                     const vec3 sphereCenter, const float radius,\n                     const vec3 rayOrigin, const vec3 rayDir, inout IsectInfo isectInfo){\n    vec3 v = rayOrigin - sphereCenter;\n    float b = dot(rayDir, v);\n    float c = dot(v, v) - radius * radius;\n    float d = b * b - c;\n    if(d >= 0.){\n        float s = sqrt(d);\n        float t = -b - s;\n        if(t <= THRESHOLD) t = -b + s;\n        if(THRESHOLD < t && t < isectInfo.mint){\n            isectInfo.objId = objId;\n            isectInfo.objIndex = objIndex;\n            isectInfo.objComponentId = objComponentId;\n            isectInfo.matColor = matColor;\n            isectInfo.mint = t;\n            isectInfo.intersection = (rayOrigin + t * rayDir);\n            isectInfo.normal = normalize(isectInfo.intersection - sphereCenter);\n            isectInfo.hit = true;\n        }\n    }\n}\n\nfloat DistPrism(const vec3 pos) {\n    float d = -1.;\n\t",n=n.push();var c=(a=129,o=16,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numPrismPlanes")]));if(c)for(var l=c.length,h=0;h<c.length;h++){var p=c[h];n.set("n",p),n.set("loop.index",h+1),n.set("loop.index0",h),n.set("loop.revindex",l-h),n.set("loop.revindex0",l-h-1),n.set("loop.first",0===h),n.set("loop.last",h===l-1),n.set("loop.length",l),s+="\n\td = max(DistPlane(pos, u_prismPlanes[",s+=r.suppressValue(p,e.opts.autoescape),s+="].origin,\n\t\t\t\t\t  u_prismPlanes[",s+=r.suppressValue(p,e.opts.autoescape),s+="].normal),\n\t\t\td);\n\t"}n=n.pop(),s+="\n    d = max(DistPlane(pos, u_dividePlaneOrigin,\n\t\t\t\t\t  u_dividePlaneNormal),\n\t\t\td);\n    return d;\n}\n\nfloat DistSphere(const vec3 pos, const Sphere sphere) {\n    return distance(pos, sphere.center) - sphere.r.x;\n}\n\nfloat DistInfSpheirahedra(const vec3 pos) {\n    float d = DistPrism(pos);\n\t",n=n.push();var f=(a=146,o=16,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numPrismSpheres")]));if(f)for(var d=f.length,v=0;v<f.length;v++){var m=f[v];n.set("n",m),n.set("loop.index",v+1),n.set("loop.index0",v),n.set("loop.revindex",d-v),n.set("loop.revindex0",d-v-1),n.set("loop.first",0===v),n.set("loop.last",v===d-1),n.set("loop.length",d),s+="\n\td = max(-DistSphere(pos, u_prismSpheres[",s+=r.suppressValue(m,e.opts.autoescape),s+="]),\n\t\t\td);\n\t"}n=n.pop(),s+="\n    return d;\n}\n\nfloat DistSpheirahedra(vec3 pos) {\n    float d = DistSphere(pos, u_convexSphere);\n\t",n=n.push();var y=(a=155,o=16,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numSpheirahedraSpheres")]));if(y)for(var g=y.length,_=0;_<y.length;_++){var b=y[_];n.set("n",b),n.set("loop.index",_+1),n.set("loop.index0",_),n.set("loop.revindex",g-_),n.set("loop.revindex0",g-_-1),n.set("loop.first",0===_),n.set("loop.last",_===g-1),n.set("loop.length",g),s+="\n    d = max(-DistSphere(pos, u_spheirahedraSpheres[",s+=r.suppressValue(b,e.opts.autoescape),s+="]),\n\t\t\td);\n\t"}if(n=n.pop(),s+="\n    return d;\n}\n\nvoid SphereInvert(inout vec3 pos, inout float dr, vec3 center, vec2 r) {\n    vec3 diff = pos - center;\n    float lenSq = dot(diff, diff);\n    float k = r.y / lenSq;\n    dr *= k; // (r * r) / lenSq\n    pos = (diff * k) + center;\n}\n\n",0==r.contextOrFrameLookup(t,n,"renderMode")){s+="\nfloat DistLimitsetTerrain(vec3 pos, out float invNum) {\n    float dr = 1.;\n    invNum = 0.;\n\tfloat d;\n    for(int i = 0; i < 1000; i++) {\n        if(u_maxIterations <= i) break;\n        bool inFund = true;\n\t\t",n=n.push();var S=(a=178,o=17,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numPrismSpheres")]));if(S)for(var x=S.length,w=0;w<S.length;w++){var C=S[w];n.set("n",C),n.set("loop.index",w+1),n.set("loop.index0",w),n.set("loop.revindex",x-w),n.set("loop.revindex0",x-w-1),n.set("loop.first",0===w),n.set("loop.last",w===x-1),n.set("loop.length",x),s+="\n\t\tif(distance(pos, u_prismSpheres[",s+=r.suppressValue(C,e.opts.autoescape),s+="].center) < u_prismSpheres[",s+=r.suppressValue(C,e.opts.autoescape),s+="].r.x) {\n\t\t\tinvNum++;\n\t\t\tSphereInvert(pos, dr,\n\t\t\t\t\t\t u_prismSpheres[",s+=r.suppressValue(C,e.opts.autoescape),s+="].center,\n\t\t\t\t\t\t u_prismSpheres[",s+=r.suppressValue(C,e.opts.autoescape),s+="].r);\n\t\t\tcontinue;\n\t\t}\n\t\t"}n=n.pop(),s+="\n\n\t\t",n=n.push();var O=(a=188,o=17,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numPrismPlanes")]));if(O)for(var k=O.length,P=0;P<O.length;P++){var E=O[P];n.set("n",E),n.set("loop.index",P+1),n.set("loop.index0",P),n.set("loop.revindex",k-P),n.set("loop.revindex0",k-P-1),n.set("loop.first",0===P),n.set("loop.last",P===k-1),n.set("loop.length",k),s+="\n\t\tpos -= u_prismPlanes[",s+=r.suppressValue(E,e.opts.autoescape),s+="].origin;\n\t\td = dot(pos, u_prismPlanes[",s+=r.suppressValue(E,e.opts.autoescape),s+="].normal);\n\t\tif(d > 0.) {\n\t\t\tinvNum++;\n\t\t\tpos -= 2. * d * u_prismPlanes[",s+=r.suppressValue(E,e.opts.autoescape),s+="].normal;\n\t\t\tpos += u_prismPlanes[",s+=r.suppressValue(E,e.opts.autoescape),s+="].origin;\n\t\t\tcontinue;\n\t\t}\n\t\tpos += u_prismPlanes[",s+=r.suppressValue(E,e.opts.autoescape),s+="].origin;\n\t\t"}n=n.pop(),s+="\n\n        if(inFund) break;\n    }\n\n    return DistInfSpheirahedra(pos) / abs(dr) * u_fudgeFactor;\n}\n"}else if(1==r.contextOrFrameLookup(t,n,"renderMode")){s+="\nfloat DistLimitsetFromSeedSpheres(vec3 pos, out float invNum) {\n    float dr = 1.;\n    invNum = 0.;\n    for(int i = 0; i < 1000; i++) {\n        if(u_maxIterations <= i) break;\n        bool inFund = true;\n\t\t",n=n.push();var A=(a=212,o=17,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numSpheirahedraSpheres")]));if(A)for(var T=A.length,I=0;I<A.length;I++){var L=A[I];n.set("n",L),n.set("loop.index",I+1),n.set("loop.index0",I),n.set("loop.revindex",T-I),n.set("loop.revindex0",T-I-1),n.set("loop.first",0===I),n.set("loop.last",I===T-1),n.set("loop.length",T),s+="\n\t\tif(distance(pos, u_spheirahedraSpheres[",s+=r.suppressValue(L,e.opts.autoescape),s+="].center) < u_spheirahedraSpheres[",s+=r.suppressValue(L,e.opts.autoescape),s+="].r.x) {\n\t\t\tinvNum++;\n\t\t\tSphereInvert(pos, dr,\n\t\t\t\t\t\t u_spheirahedraSpheres[",s+=r.suppressValue(L,e.opts.autoescape),s+="].center,\n\t\t\t\t\t\t u_spheirahedraSpheres[",s+=r.suppressValue(L,e.opts.autoescape),s+="].r);\n\t\t\tcontinue;\n\t\t}\n\t\t"}n=n.pop(),s+="\n        if(inFund) break;\n    }\n\n    float minDist = 9999999.;\n\n\t",n=n.push();var R=(a=226,o=16,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numSeedSpheres")]));if(R)for(var M=R.length,j=0;j<R.length;j++){var F=R[j];n.set("n",F),n.set("loop.index",j+1),n.set("loop.index0",j),n.set("loop.revindex",M-j),n.set("loop.revindex0",M-j-1),n.set("loop.first",0===j),n.set("loop.last",j===M-1),n.set("loop.length",M),s+="\n\tminDist = min(minDist,\n\t\t\t\t  (DistSphere(pos, u_seedSpheres[",s+=r.suppressValue(F,e.opts.autoescape),s+="])) / abs(dr) * u_fudgeFactor);\n\t"}n=n.pop(),s+="\n\n    return minDist;\n}\n"}else{s+="\nfloat DistLimitsetFromSpheirahedra(vec3 pos, out float invNum) {\n    float dr = 1.;\n    invNum = 0.;\n    for(int i = 0; i < 1000; i++) {\n        if(u_maxIterations <= i) break;\n        bool inFund = true;\n\t\t",n=n.push();var z=(a=240,o=17,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numSpheirahedraSpheres")]));if(z)for(var D=z.length,N=0;N<z.length;N++){var H=z[N];n.set("n",H),n.set("loop.index",N+1),n.set("loop.index0",N),n.set("loop.revindex",D-N),n.set("loop.revindex0",D-N-1),n.set("loop.first",0===N),n.set("loop.last",N===D-1),n.set("loop.length",D),s+="\n\t\tif(distance(pos, u_spheirahedraSpheres[",s+=r.suppressValue(H,e.opts.autoescape),s+="].center) < u_spheirahedraSpheres[",s+=r.suppressValue(H,e.opts.autoescape),s+="].r.x) {\n\t\t\tinvNum++;\n\t\t\tSphereInvert(pos, dr,\n\t\t\t\t\t\t u_spheirahedraSpheres[",s+=r.suppressValue(H,e.opts.autoescape),s+="].center,\n\t\t\t\t\t\t u_spheirahedraSpheres[",s+=r.suppressValue(H,e.opts.autoescape),s+="].r);\n\t\t\tcontinue;\n\t\t}\n\t\t"}n=n.pop(),s+="\n        if(inFund) break;\n    }\n\n    return DistSpheirahedra(pos) / abs(dr) * u_fudgeFactor;\n}\n\n"}s+="\n",u?u.rootRenderFunc(e,t,n,r,i):i(null,s)}catch(e){i(r.handleError(e,a,o))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/raytrace.njk.frag"],a)},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={}),o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/uniforms.njk.frag"]=function(){function e(e,t,n,r,i){var a="";try{var o=null;a+="struct Camera {\n    vec3 pos;\n    vec3 target;\n    float fov;\n    vec3 up;\n};\n\nstruct Sphere {\n    vec3 center;\n    vec2 r;\n};\n\nstruct Plane {\n    vec3 origin;\n    vec3 normal;\n};\n\nuniform sampler2D u_accTexture;\nuniform float u_textureWeight;\nuniform float u_numSamples;\nuniform vec2 u_resolution;\nuniform Camera u_camera;\nuniform Sphere u_prismSpheres[",a+=r.suppressValue(r.contextOrFrameLookup(t,n,"numPrismSpheres"),e.opts.autoescape),a+="];\nuniform Plane u_prismPlanes[",a+=r.suppressValue(r.contextOrFrameLookup(t,n,"numPrismPlanes"),e.opts.autoescape),a+="];\nuniform Sphere u_inversionSphere;\nuniform Sphere u_convexSphere;\nuniform Sphere u_spheirahedraSpheres[",a+=r.suppressValue(r.contextOrFrameLookup(t,n,"numSpheirahedraSpheres"),e.opts.autoescape),a+="];\nuniform Sphere u_seedSpheres[",a+=r.suppressValue(r.contextOrFrameLookup(t,n,"numSeedSpheres"),e.opts.autoescape),a+="];\nuniform float u_fudgeFactor;\nuniform float u_marchingThreshold;\nuniform int u_maxIterations;\nuniform vec3 u_dividePlaneOrigin;\nuniform vec3 u_dividePlaneNormal;\nuniform int u_limitsetRenderingType;\nuniform bool u_displaySpheirahedraSphere;\nuniform bool u_displayConvexSphere;\nuniform bool u_displayInversionSphere;\nuniform bool u_displayBoundingSphere;\nuniform bool u_castShadow;\nuniform float u_boundingPlaneY;\nuniform vec2 u_ao;\nuniform Sphere u_boundingSphere;\n\nconst int RENDER_LIMIT_TERRAIN = 0;\nconst int RENDER_LIMIT_SEED_SPHERE = 1;\nconst int RENDER_LIMIT_SPHEIRAHEDRON = 2;\n",o?o.rootRenderFunc(e,t,n,r,i):i(null,a)}catch(e){i(r.handleError(e,null,null))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/uniforms.njk.frag"],a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.canvasId=t,this.canvas=document.getElementById(t),console.log(this.canvas),this.pixelRatio=1,this.isRendering=!1,this.boundMouseDownListener=this.mouseDownListener.bind(this),this.boundMouseUpListener=this.mouseUpListener.bind(this),this.boundMouseWheelListener=this.mouseWheelListener.bind(this),this.boundMouseMoveListener=this.mouseMoveListener.bind(this),this.boundDblClickLisntener=this.mouseDblClickListener.bind(this),this.boundKeydown=this.keydownListener.bind(this),this.boundKeyup=this.keyupListener.bind(this),this.canvas.addEventListener("mousedown",this.boundMouseDownListener),this.canvas.addEventListener("mouseup",this.boundMouseUpListener),this.canvas.addEventListener("wheel",this.boundMouseWheelListener),this.canvas.addEventListener("mousemove",this.boundMouseMoveListener),this.canvas.addEventListener("dblclick",this.boundDblClickLisntener),this.canvas.addEventListener("keydown",this.boundKeydown),this.canvas.addEventListener("keyup",this.boundKeyup),this.canvas.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.renderCallback=this.render.bind(this),this.spheirahedraProgram=void 0,this.spheirahedraUniLocations=void 0,this.numSamples=0,this.maxSamples=20,this.lowResRatio=.5}return i(e,[{key:"resizeCanvas",value:function(){var e=this.canvas.parentElement;this.canvas.style.width=e.clientWidth+"px",this.canvas.style.height=e.clientHeight+"px",this.canvas.width=e.clientWidth*this.pixelRatio,this.canvas.height=e.clientHeight*this.pixelRatio,this.canvasRatio=this.canvas.width/this.canvas.height/2}},{key:"mouseWheelListener",value:function(e){}},{key:"mouseDownListener",value:function(e){}},{key:"mouseDblClickListener",value:function(e){}},{key:"mouseUpListener",value:function(e){}},{key:"mouseMoveListener",value:function(e){}},{key:"keydownListener",value:function(e){}},{key:"keyupListener",value:function(e){}},{key:"render",value:function(){}},{key:"dataURLtoBlob",value:function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),i=r.length,a=new Uint8Array(i);i--;)a[i]=r.charCodeAt(i);return new Blob([a],{type:n})}},{key:"saveImage",value:function(e,t,n,r){var i=new Uint8Array(t*n*4),a=e.UNSIGNED_BYTE;e.readPixels(0,0,t,n,e.RGBA,a,i);var o=document.createElement("canvas");o.width=t,o.height=n;var s=o.getContext("2d"),u=s.createImageData(t,n);u.data.set(i),s.putImageData(u,0,0);var c=document.createElement("a"),l=o.toDataURL(),h=this.dataURLtoBlob(l);c.href=URL.createObjectURL(h),c.download=r,c.click()}},{key:"setPrograms",value:function(e){this.numSamples=0,this.spheirahedraProgram=e.program,this.spheirahedraUniLocations=e.uniLocations,this.getRenderUniformLocations(this.spheirahedraProgram),this.renderCanvasVAttrib=this.gl.getAttribLocation(this.spheirahedraProgram,"a_vertex"),this.gl.enableVertexAttribArray(this.renderCanvasVAttrib)}}],[{key:"MOUSE_BUTTON_LEFT",get:function(){return 0}},{key:"MOUSE_BUTTON_WHEEL",get:function(){return 1}},{key:"MOUSE_BUTTON_RIGHT",get:function(){return 2}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=(function(e){e&&e.__esModule}(i),function e(t,n){r(this,e),this.n1=t,this.n2=n,this.dihedralAngleDenom=-1,this.n1.addFreeAngleEdge(this),this.n2.addFixedAngleEdge(this)});t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){this.captured=[]}return e.prototype._capt=function(e,t){return this.captured.push({value:e,espath:t}),e},e.prototype._expr=function(e,t){var n=this.captured;return this.captured=[],{powerAssertContext:{value:e,events:n},source:t}},e}(),o=n(12),s=(function(e){e&&e.__esModule}(o),function(){function e(t){r(this,e),this.index=t,this.fixedAngleEdges=[],this.freeAngleEdges=[]}return i(e,[{key:"addFixedAngleEdge",value:function(e){this.fixedAngleEdges.push(e)}},{key:"addFreeAngleEdge",value:function(e){this.freeAngleEdges.push(e)}},{key:"setAnglesToFreeEdge",value:function(e){for(var t=(new a,0);t<e.length;t++)this.freeAngleEdges[t].dihedralAngleDenom=e[t]}},{key:"numConnectedEdges",get:function(){return this.fixedAngleEdges.length+this.freeAngleEdges.length}},{key:"connectedEdgeFixedAngles",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=this.fixedAngleEdges[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.push(o.dihedralAngleDenom)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return e}}]),e}());t.default=s},function(e,t){e.exports="#version 300 es\n\nin vec2 a_vertex;\nout vec2 v_texCoord;\n\nvoid main() {\n    v_texCoord = a_vertex.xy * 0.5 + 0.5;\n    gl_Position = vec4(a_vertex, 0., 1.0);\n}\n"},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(50),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(28),s=r(o),u=n(29),c=r(u),l="prismCanvas",h="limitsetCanvas",p="spheirahedraCanvas",f="parameterCanvas",d=function(){function e(t){i(this,e),this.spheirahedraHandler=t,this.prismCanvas=new c.default(l,t),this.limitsetCanvas=new c.default(h,t),this.spheirahedraCanvas=new c.default(p,t),this.parameterCanvas=new s.default(f,t),this.changeSpheirahedron("cube"),this.limitsetCanvas.displaySpheirahedraSphere=!1,this.limitsetCanvas.isKeepingSampling=!0,this.limitsetCanvas.isRenderingLowRes=!0,this.reRenderCanvases()}return a(e,[{key:"reRenderCanvases",value:function(){this.limitsetCanvas.numSamples=0,this.limitsetCanvas.render(),this.prismCanvas.render(),this.parameterCanvas.render(),this.spheirahedraCanvas.render()}},{key:"changeSpheirahedron",value:function(e){e!==this.spheirahedraHandler.currentType&&(this.spheirahedraHandler.changeSpheirahedron(e),this.spheirahedraCanvas.setPrograms(this.spheirahedraHandler.getSpheirahedraProgram(this.spheirahedraCanvas.gl)),this.limitsetCanvas.setPrograms(this.spheirahedraHandler.getLimitsetProgram(this.limitsetCanvas.gl)),this.prismCanvas.setPrograms(this.spheirahedraHandler.getPrismProgram(this.prismCanvas.gl)),this.parameterCanvas.setPrograms(this.spheirahedraHandler.getParameterProgram(this.parameterCanvas.gl)),this.reRenderCanvases())}},{key:"changeDihedralAngleType",value:function(e){this.spheirahedraHandler.changeDihedralAngleType(e),this.parameterCanvas.setPrograms(this.spheirahedraHandler.getParameterProgram(this.parameterCanvas.gl)),this.reRenderCanvases()}},{key:"changeRenderMode",value:function(){this.limitsetCanvas.setPrograms(this.spheirahedraHandler.getLimitsetProgram(this.limitsetCanvas.gl)),this.limitsetCanvas.render()}},{key:"render",value:function(){this.limitsetCanvas.isRendering?(this.limitsetCanvas.numSamples=0,this.limitsetCanvas.callRender()):this.prismCanvas.isRendering?this.prismCanvas.callRender():this.spheirahedraCanvas.isRendering?this.spheirahedraCanvas.callRender():this.parameterCanvas.isTweaking?(this.limitsetCanvas.numSamples=0,this.limitsetCanvas.callRender(),this.prismCanvas.callRender(),this.parameterCanvas.render(),this.spheirahedraCanvas.callRender()):this.limitsetCanvas.isKeepingSampling&&this.limitsetCanvas.render()}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){this.captured=[]}return e.prototype._capt=function(e,t){return this.captured.push({value:e,espath:t}),e},e.prototype._expr=function(e,t){var n=this.captured;return this.captured=[],{powerAssertContext:{value:e,events:n},source:t}},e}(),s=n(13),u=r(s),c=n(12),l=r(c),h={0:function(e){new o;return[[3,3,3],[2,3,6],[2,6,3],[3,6,2],[3,2,6],[6,2,3],[6,3,2],[2,4,4],[4,2,4],[4,4,2]]},1:function(e){var t=(new o,e[0]);return 3===t?[[3,3],[2,6],[6,2]]:2===t?[[3,6],[6,3],[4,4]]:6===t?[[2,3],[3,2]]:4===t?[[2,4],[4,2]]:[]},2:function(e){new o;return 3===e[0]&&3===e[1]?[[3]]:e.includes(3)&&e.includes(2)?[[6]]:e.includes(6)&&e.includes(3)?[[2]]:e.includes(6)&&e.includes(2)?[[3]]:4===e[0]&&4===e[1]?[[2]]:e.includes(2)&&e.includes(4)?[[4]]:[]},3:function(e){new o;return[]}},p=function(e){new o;return 3===e[0]?e.includes(2)&&e.includes(6)||3===e[1]&&3===e[2]:2===e[0]?e.includes(3)&&e.includes(6)||4===e[1]&&4===e[2]:6===e[0]?e.includes(2)&&e.includes(3):4===e[0]&&(4===e[1]&&2===e[2]||2===e[1]&&4===e[2])},f={0:function(e){new o;return[[2,2,2,2]]},1:function(e){new o;return[[2,2,2]]},2:function(e){new o;return[[2,2]]},3:function(e){new o;return[[2]]},4:function(e){new o;return[]}},d=function(e){new o;return 2===e[0]&&2===e[1]&&2===e[2]&&2===e[3]},v=function(){function e(t){i(this,e),this.nodeList=[],this.edgeList=[],this.dihedralAnglesList=[];for(var n=0;n<t.numVert;n++)this.nodeList.push(new u.default(n));var r=!0,a=!1,o=void 0;try{for(var s,c=t.edges[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var v=s.value;this.edgeList.push(new l.default(this.nodeList[v[0]],this.nodeList[v[1]]))}}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}var m=!0,y=!1,g=void 0;try{for(var _,b=this.nodeList[Symbol.iterator]();!(m=(_=b.next()).done);m=!0){var S=_.value;switch(S.numConnectedEdges){case 3:S.computePatternFunc=h[S.fixedAngleEdges.length],S.validationFunc=p;break;case 4:S.computePatternFunc=f[S.fixedAngleEdges.length],S.validationFunc=d;break;default:S.computePatternFunc=function(e){return[]},S.validationFunc=function(){return!1}}}}catch(e){y=!0,g=e}finally{try{!m&&b.return&&b.return()}finally{if(y)throw g}}}return a(e,[{key:"search",value:function(){this.subSerch(0)}},{key:"subSerch",value:function(e){var t=this.nodeList[e];if(e===this.nodeList.length-1){var n=t.connectedEdgeFixedAngles;return void(t.validationFunc(n)?this.recordDihedralAngles():console.log("invalid"))}var r=t.computePatternFunc(t.connectedEdgeFixedAngles),i=!0,a=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t.setAnglesToFreeEdge(c),this.subSerch(e+1)}}catch(e){a=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}}},{key:"recordDihedralAngles",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=this.edgeList[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.push(o.dihedralAngleDenom)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.dihedralAnglesList.push(e)}}]),e}();t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(30),s=r(o),u=n(41),c=r(u),l=n(39),h=r(l),p=n(37),f=r(p),d=n(33),v=r(d),m=n(35),y=r(m),g=n(7),_=n(14),b=function(){function e(){i(this,e),this.spheirahedraCubes=[];var t=!0,n=!1,r=void 0;try{for(var a,o=s.default[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value;this.spheirahedraCubes.push(new u(0,0))}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.tetrahedron=[];var l=!0,p=!1,d=void 0;try{for(var m,g=c.default[Symbol.iterator]();!(l=(m=g.next()).done);l=!0){var _=m.value;this.tetrahedron.push(new _)}}catch(e){p=!0,d=e}finally{try{!l&&g.return&&g.return()}finally{if(p)throw d}}this.pentahedralPyramid=[];var b=!0,S=!1,x=void 0;try{for(var w,C=h.default[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var O=w.value;this.pentahedralPyramid.push(new O)}}catch(e){S=!0,x=e}finally{try{!b&&C.return&&C.return()}finally{if(S)throw x}}this.pentahedralPrism=[];var k=!0,P=!1,E=void 0;try{for(var A,T=f.default[Symbol.iterator]();!(k=(A=T.next()).done);k=!0){var I=A.value;this.pentahedralPrism.push(new I(0))}}catch(e){P=!0,E=e}finally{try{!k&&T.return&&T.return()}finally{if(P)throw E}}this.hexahedralCake2=[];var L=!0,R=!1,M=void 0;try{for(var j,F=v.default[Symbol.iterator]();!(L=(j=F.next()).done);L=!0){var z=j.value;this.hexahedralCake2.push(new z(0))}}catch(e){R=!0,M=e}finally{try{!L&&F.return&&F.return()}finally{if(R)throw M}}this.hexahedralCake3=[];var D=!0,N=!1,H=void 0;try{for(var U,$=y.default[Symbol.iterator]();!(D=(U=$.next()).done);D=!0){var V=U.value;this.hexahedralCake3.push(new V(0))}}catch(e){N=!0,H=e}finally{try{!D&&$.return&&$.return()}finally{if(N)throw H}}this.baseTypes={cube:this.spheirahedraCubes,tetrahedron:this.tetrahedron,pentahedralPyramid:this.pentahedralPyramid,pentahedralPrism:this.pentahedralPrism,hexahedralCake2:this.hexahedralCake2,hexahedralCake3:this.hexahedralCake3},this.currentType="",this.currentDihedralAngleIndex=-1,this.currentSpheirahedra=void 0,this.spheirahedraPrograms={},this.limitsetPrograms={},this.prismPrograms={},this.parameterPrograms={},this.limitRenderingMode=0}return a(e,[{key:"buildProgramUniLocationsPair",value:function(t,n){var r=e.buildRenderProgram(t,n);return{program:r,uniLocations:this.currentSpheirahedra.getUniformLocations(t,r)}}},{key:"getSpheirahedraProgram",value:function(e){if(void 0===this.spheirahedraPrograms[this.currentType]){var t=this.currentSpheirahedra.buildSpheirahedraShader();this.spheirahedraPrograms[this.currentType]=this.buildProgramUniLocationsPair(e,t)}return this.spheirahedraPrograms[this.currentType]}},{key:"getPrismProgram",value:function(e){if(void 0===this.prismPrograms[this.currentType]){var t=this.currentSpheirahedra.buildPrismShader();this.prismPrograms[this.currentType]=this.buildProgramUniLocationsPair(e,t)}return this.prismPrograms[this.currentType]}},{key:"getLimitsetProgram",value:function(e){if(void 0===this.limitsetPrograms[this.currentType]&&(this.limitsetPrograms[this.currentType]=new Array(3)),void 0===this.limitsetPrograms[this.currentType][this.limitRenderingMode]){var t=this.currentSpheirahedra.buildLimitsetShader(this.limitRenderingMode);this.limitsetPrograms[this.currentType][this.limitRenderingMode]=this.buildProgramUniLocationsPair(e,t)}return this.limitsetPrograms[this.currentType][this.limitRenderingMode]}},{key:"getParameterProgram",value:function(e){if(void 0===this.parameterPrograms[this.currentType]&&(this.parameterPrograms[this.currentType]=new Array(50)),void 0===this.parameterPrograms[this.currentType][this.currentDihedralAngleIndex]){var t=this.currentSpheirahedra.buildParameterSpaceShader();this.parameterPrograms[this.currentType][this.currentDihedralAngleIndex]=this.buildProgramUniLocationsPair(e,t)}return this.parameterPrograms[this.currentType][this.currentDihedralAngleIndex]}},{key:"select",value:function(e,t){this.currentSpheirahedra.select(e,t)}},{key:"move",value:function(e){return this.currentSpheirahedra.move(e)}},{key:"setUniformValues",value:function(e,t,n,r){this.currentSpheirahedra.setUniformValues(e,t,n,r)}},{key:"changeDihedralAngleType",value:function(e){void 0!==this.baseTypes[this.currentType][e]&&(this.currentSpheirahedra=this.baseTypes[this.currentType][e],this.currentDihedralAngleIndex=e,this.currentSpheirahedra.update())}},{key:"changeSpheirahedron",value:function(e){void 0!==this.baseTypes[e]&&(this.currentType=e,this.currentSpheirahedra=this.baseTypes[this.currentType][0],this.currentDihedralAngleIndex=0,this.currentSpheirahedra.update())}}],[{key:"buildRenderProgram",value:function(e,t){var n=e.createProgram();return(0,g.AttachShader)(e,_,n,e.VERTEX_SHADER),(0,g.AttachShader)(e,t,n,e.FRAGMENT_SHADER),(0,g.LinkProgram)(e,n),n}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e){n(54)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),a=n.n(i),o=n(53),s=n(52),u=r,c=s(a.a,o.a,u,null,null);t.default=c.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){/*!
 * Vue.js v2.4.2
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
function n(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function i(e){return!0===e}function a(e){return!1===e}function o(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Object]"===tr.call(e)}function c(e){return"[object RegExp]"===tr.call(e)}function l(e){var t=parseFloat(e);return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function p(e){var t=parseFloat(e);return isNaN(t)?e:t}function f(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function d(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function v(e,t){return rr.call(e,t)}function m(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function y(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function g(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function _(e,t){for(var n in t)e[n]=t[n];return e}function b(e){for(var t={},n=0;n<e.length;n++)e[n]&&_(t,e[n]);return t}function S(e,t,n){}function x(e,t){if(e===t)return!0;var n=s(e),r=s(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every(function(e,n){return x(e,t[n])});if(i||a)return!1;var o=Object.keys(e),u=Object.keys(t);return o.length===u.length&&o.every(function(n){return x(e[n],t[n])})}catch(e){return!1}}function w(e,t){for(var n=0;n<e.length;n++)if(x(e[n],t))return n;return-1}function C(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function O(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function k(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function P(e){if(!mr.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function E(e,t,n){if(dr.errorHandler)dr.errorHandler.call(null,e,t,n);else{if(!_r||"undefined"==typeof console)throw e;console.error(e)}}function A(e){return"function"==typeof e&&/native code/.test(e.toString())}function T(e){zr.target&&Dr.push(zr.target),zr.target=e}function I(){zr.target=Dr.pop()}function L(e,t,n){e.__proto__=t}function R(e,t,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];k(e,a,t[a])}}function M(e,t){if(s(e)){var n;return v(e,"__ob__")&&e.__ob__ instanceof Vr?n=e.__ob__:$r.shouldConvert&&!Lr()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Vr(e)),t&&n&&n.vmCount++,n}}function j(e,t,n,r,i){var a=new zr,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set,c=!i&&M(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return zr.target&&(a.depend(),c&&c.dep.depend(),Array.isArray(t)&&D(t)),t},set:function(t){var r=s?s.call(e):n;t===r||t!==t&&r!==r||(u?u.call(e,t):n=t,c=!i&&M(t),a.notify())}})}}function F(e,t,n){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(v(e,t))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(j(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function z(e,t){if(Array.isArray(e)&&l(t))return void e.splice(t,1);var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}function D(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&D(t)}function N(e,t){if(!t)return e;for(var n,r,i,a=Object.keys(t),o=0;o<a.length;o++)n=a[o],r=e[n],i=t[n],v(e,n)?u(r)&&u(i)&&N(r,i):F(e,n,i);return e}function H(e,t,n){return n?e||t?function(){var r="function"==typeof t?t.call(n):t,i="function"==typeof e?e.call(n):void 0;return r?N(r,i):i}:void 0:t?e?function(){return N("function"==typeof t?t.call(this):t,"function"==typeof e?e.call(this):e)}:t:e}function U(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function $(e,t){var n=Object.create(e||null);return t?_(n,t):n}function V(e){var t=e.props;if(t){var n,r,i,a={};if(Array.isArray(t))for(n=t.length;n--;)"string"==typeof(r=t[n])&&(i=ar(r),a[i]={type:null});else if(u(t))for(var o in t)r=t[o],i=ar(o),a[i]=u(r)?r:{type:r};e.props=a}}function B(e){var t=e.inject;if(Array.isArray(t))for(var n=e.inject={},r=0;r<t.length;r++)n[t[r]]=t[r]}function G(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}function q(e,t,n){function r(r){var i=Br[r]||Gr;u[r]=i(e[r],t[r],n,r)}"function"==typeof t&&(t=t.options),V(t),B(t),G(t);var i=t.extends;if(i&&(e=q(e,i,n)),t.mixins)for(var a=0,o=t.mixins.length;a<o;a++)e=q(e,t.mixins[a],n);var s,u={};for(s in e)r(s);for(s in t)v(e,s)||r(s);return u}function X(e,t,n,r){if("string"==typeof n){var i=e[t];if(v(i,n))return i[n];var a=ar(n);if(v(i,a))return i[a];var o=or(a);if(v(i,o))return i[o];return i[n]||i[a]||i[o]}}function W(e,t,n,r){var i=t[e],a=!v(n,e),o=n[e];if(K(Boolean,i.type)&&(a&&!v(i,"default")?o=!1:K(String,i.type)||""!==o&&o!==ur(e)||(o=!0)),void 0===o){o=Y(r,i,e);var s=$r.shouldConvert;$r.shouldConvert=!0,M(o),$r.shouldConvert=s}return o}function Y(e,t,n){if(v(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==Q(t.type)?r.call(e):r}}function Q(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function K(e,t){if(!Array.isArray(t))return Q(t)===Q(e);for(var n=0,r=t.length;n<r;n++)if(Q(t[n])===Q(e))return!0;return!1}function Z(e){return new qr(void 0,void 0,void 0,String(e))}function J(e){var t=new qr(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.isCloned=!0,t}function ee(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=J(e[r]);return n}function te(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=n.slice(),i=0;i<r.length;i++)r[i].apply(null,e)}return t.fns=e,t}function ne(e,t,r,i,a){var o,s,u,c;for(o in e)s=e[o],u=t[o],c=Qr(o),n(s)||(n(u)?(n(s.fns)&&(s=e[o]=te(s)),r(c.name,s,c.once,c.capture,c.passive)):s!==u&&(u.fns=s,e[o]=u));for(o in t)n(e[o])&&(c=Qr(o),i(c.name,t[o],c.capture))}function re(e,t,a){function o(){a.apply(this,arguments),d(s.fns,o)}var s,u=e[t];n(u)?s=te([o]):r(u.fns)&&i(u.merged)?(s=u,s.fns.push(o)):s=te([u,o]),s.merged=!0,e[t]=s}function ie(e,t,i){var a=t.options.props;if(!n(a)){var o={},s=e.attrs,u=e.props;if(r(s)||r(u))for(var c in a){var l=ur(c);ae(o,u,c,l,!0)||ae(o,s,c,l,!1)}return o}}function ae(e,t,n,i,a){if(r(t)){if(v(t,n))return e[n]=t[n],a||delete t[n],!0;if(v(t,i))return e[n]=t[i],a||delete t[i],!0}return!1}function oe(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function se(e){return o(e)?[Z(e)]:Array.isArray(e)?ce(e):void 0}function ue(e){return r(e)&&r(e.text)&&a(e.isComment)}function ce(e,t){var a,s,u,c=[];for(a=0;a<e.length;a++)s=e[a],n(s)||"boolean"==typeof s||(u=c[c.length-1],Array.isArray(s)?c.push.apply(c,ce(s,(t||"")+"_"+a)):o(s)?ue(u)?u.text+=String(s):""!==s&&c.push(Z(s)):ue(s)&&ue(u)?c[c.length-1]=Z(u.text+s.text):(i(e._isVList)&&r(s.tag)&&n(s.key)&&r(t)&&(s.key="__vlist"+t+"_"+a+"__"),c.push(s)));return c}function le(e,t){return e.__esModule&&e.default&&(e=e.default),s(e)?t.extend(e):e}function he(e,t,n,r,i){var a=Yr();return a.asyncFactory=e,a.asyncMeta={data:t,context:n,children:r,tag:i},a}function pe(e,t,a){if(i(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;if(i(e.loading)&&r(e.loadingComp))return e.loadingComp;if(!r(e.contexts)){var o=e.contexts=[a],u=!0,c=function(){for(var e=0,t=o.length;e<t;e++)o[e].$forceUpdate()},l=C(function(n){e.resolved=le(n,t),u||c()}),h=C(function(t){r(e.errorComp)&&(e.error=!0,c())}),p=e(l,h);return s(p)&&("function"==typeof p.then?n(e.resolved)&&p.then(l,h):r(p.component)&&"function"==typeof p.component.then&&(p.component.then(l,h),r(p.error)&&(e.errorComp=le(p.error,t)),r(p.loading)&&(e.loadingComp=le(p.loading,t),0===p.delay?e.loading=!0:setTimeout(function(){n(e.resolved)&&n(e.error)&&(e.loading=!0,c())},p.delay||200)),r(p.timeout)&&setTimeout(function(){n(e.resolved)&&h(null)},p.timeout))),u=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(a)}function fe(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&r(n.componentOptions))return n}}function de(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ye(e,t)}function ve(e,t,n){n?Wr.$once(e,t):Wr.$on(e,t)}function me(e,t){Wr.$off(e,t)}function ye(e,t,n){Wr=e,ne(t,n||{},ve,me,e)}function ge(e,t){var n={};if(!e)return n;for(var r=[],i=0,a=e.length;i<a;i++){var o=e[i];if(o.context!==t&&o.functionalContext!==t||!o.data||null==o.data.slot)r.push(o);else{var s=o.data.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children):u.push(o)}}return r.every(_e)||(n.default=r),n}function _e(e){return e.isComment||" "===e.text}function be(e,t){t=t||{};for(var n=0;n<e.length;n++)Array.isArray(e[n])?be(e[n],t):t[e[n].key]=e[n].fn;return t}function Se(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function xe(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Yr),Pe(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},e._watcher=new ai(e,r,S),n=!1,null==e.$vnode&&(e._isMounted=!0,Pe(e,"mounted")),e}function we(e,t,n,r,i){var a=!!(i||e.$options._renderChildren||r.data.scopedSlots||e.$scopedSlots!==vr);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i,e.$attrs=r.data&&r.data.attrs,e.$listeners=n,t&&e.$options.props){$r.shouldConvert=!1;for(var o=e._props,s=e.$options._propKeys||[],u=0;u<s.length;u++){var c=s[u];o[c]=W(c,e.$options.props,t,e)}$r.shouldConvert=!0,e.$options.propsData=t}if(n){var l=e.$options._parentListeners;e.$options._parentListeners=n,ye(e,n,l)}a&&(e.$slots=ge(i,r.context),e.$forceUpdate())}function Ce(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Oe(e,t){if(t){if(e._directInactive=!1,Ce(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Oe(e.$children[n]);Pe(e,"activated")}}function ke(e,t){if(!(t&&(e._directInactive=!0,Ce(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)ke(e.$children[n]);Pe(e,"deactivated")}}function Pe(e,t){var n=e.$options[t];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(e)}catch(n){E(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function Ee(){ri=Zr.length=Jr.length=0,ei={},ti=ni=!1}function Ae(){ni=!0;var e,t;for(Zr.sort(function(e,t){return e.id-t.id}),ri=0;ri<Zr.length;ri++)e=Zr[ri],t=e.id,ei[t]=null,e.run();var n=Jr.slice(),r=Zr.slice();Ee(),Le(n),Te(r),Rr&&dr.devtools&&Rr.emit("flush")}function Te(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&Pe(r,"updated")}}function Ie(e){e._inactive=!1,Jr.push(e)}function Le(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Oe(e[t],!0)}function Re(e){var t=e.id;if(null==ei[t]){if(ei[t]=!0,ni){for(var n=Zr.length-1;n>ri&&Zr[n].id>e.id;)n--;Zr.splice(n+1,0,e)}else Zr.push(e);ti||(ti=!0,jr(Ae))}}function Me(e){oi.clear(),je(e,oi)}function je(e,t){var n,r,i=Array.isArray(e);if((i||s(e))&&Object.isExtensible(e)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(i)for(n=e.length;n--;)je(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)je(e[r[n]],t)}}function Fe(e,t,n){si.get=function(){return this[t][n]},si.set=function(e){this[t][n]=e},Object.defineProperty(e,n,si)}function ze(e){e._watchers=[];var t=e.$options;t.props&&De(e,t.props),t.methods&&Be(e,t.methods),t.data?Ne(e):M(e._data={},!0),t.computed&&Ue(e,t.computed),t.watch&&t.watch!==Pr&&Ge(e,t.watch)}function De(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],a=!e.$parent;$r.shouldConvert=a;for(var o in t)!function(a){i.push(a);var o=W(a,t,n,e);j(r,a,o),a in e||Fe(e,"_props",a)}(o);$r.shouldConvert=!0}function Ne(e){var t=e.$options.data;t=e._data="function"==typeof t?He(t,e):t||{},u(t)||(t={});for(var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);i--;){var a=n[i];r&&v(r,a)||O(a)||Fe(e,"_data",a)}M(t,!0)}function He(e,t){try{return e.call(t)}catch(e){return E(e,t,"data()"),{}}}function Ue(e,t){var n=e._computedWatchers=Object.create(null);for(var r in t){var i=t[r],a="function"==typeof i?i:i.get;n[r]=new ai(e,a||S,S,ui),r in e||$e(e,r,i)}}function $e(e,t,n){"function"==typeof n?(si.get=Ve(t),si.set=S):(si.get=n.get?!1!==n.cache?Ve(t):n.get:S,si.set=n.set?n.set:S),Object.defineProperty(e,t,si)}function Ve(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),zr.target&&t.depend(),t.value}}function Be(e,t){e.$options.props;for(var n in t)e[n]=null==t[n]?S:y(t[n],e)}function Ge(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)qe(e,n,r[i]);else qe(e,n,r)}}function qe(e,t,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Xe(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function We(e){var t=Ye(e.$options.inject,e);t&&($r.shouldConvert=!1,Object.keys(t).forEach(function(n){j(e,n,t[n])}),$r.shouldConvert=!0)}function Ye(e,t){if(e){for(var n=Object.create(null),r=Mr?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++)for(var a=r[i],o=e[a],s=t;s;){if(s._provided&&o in s._provided){n[a]=s._provided[o];break}s=s.$parent}return n}}function Qe(e,t,n,i,a){var o={},s=e.options.props;if(r(s))for(var u in s)o[u]=W(u,s,t||{});else r(n.attrs)&&Ke(o,n.attrs),r(n.props)&&Ke(o,n.props);var c=Object.create(i),l=function(e,t,n,r){return rt(c,e,t,n,r,!0)},h=e.options.render.call(null,l,{data:n,props:o,children:a,parent:i,listeners:n.on||{},injections:Ye(e.options.inject,i),slots:function(){return ge(a,i)}});return h instanceof qr&&(h.functionalContext=i,h.functionalOptions=e.options,n.slot&&((h.data||(h.data={})).slot=n.slot)),h}function Ke(e,t){for(var n in t)e[ar(n)]=t[n]}function Ze(e,t,a,o,u){if(!n(e)){var c=a.$options._base;if(s(e)&&(e=c.extend(e)),"function"==typeof e){var l;if(n(e.cid)&&(l=e,void 0===(e=pe(l,c,a))))return he(l,t,a,o,u);t=t||{},gt(e),r(t.model)&&nt(e.options,t);var h=ie(t,e,u);if(i(e.options.functional))return Qe(e,h,t,a,o);var p=t.on;if(t.on=t.nativeOn,i(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}et(t);var d=e.options.name||u;return new qr("vue-component-"+e.cid+(d?"-"+d:""),t,void 0,void 0,void 0,a,{Ctor:e,propsData:h,listeners:p,tag:u,children:o},l)}}}function Je(e,t,n,i){var a=e.componentOptions,o={_isComponent:!0,parent:t,propsData:a.propsData,_componentTag:a.tag,_parentVnode:e,_parentListeners:a.listeners,_renderChildren:a.children,_parentElm:n||null,_refElm:i||null},s=e.data.inlineTemplate;return r(s)&&(o.render=s.render,o.staticRenderFns=s.staticRenderFns),new a.Ctor(o)}function et(e){e.hook||(e.hook={});for(var t=0;t<li.length;t++){var n=li[t],r=e.hook[n],i=ci[n];e.hook[n]=r?tt(i,r):i}}function tt(e,t){return function(n,r,i,a){e(n,r,i,a),t(n,r,i,a)}}function nt(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var a=t.on||(t.on={});r(a[i])?a[i]=[t.model.callback].concat(a[i]):a[i]=t.model.callback}function rt(e,t,n,r,a,s){return(Array.isArray(n)||o(n))&&(a=r,r=n,n=void 0),i(s)&&(a=pi),it(e,t,n,r,a)}function it(e,t,n,i,a){if(r(n)&&r(n.__ob__))return Yr();if(r(n)&&r(n.is)&&(t=n.is),!t)return Yr();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),a===pi?i=se(i):a===hi&&(i=oe(i));var o,s;if("string"==typeof t){var u;s=dr.getTagNamespace(t),o=dr.isReservedTag(t)?new qr(dr.parsePlatformTagName(t),n,i,void 0,void 0,e):r(u=X(e.$options,"components",t))?Ze(u,n,e,i,t):new qr(t,n,i,void 0,void 0,e)}else o=Ze(t,n,e,i);return r(o)?(s&&at(o,s),o):Yr()}function at(e,t){if(e.ns=t,"foreignObject"!==e.tag&&r(e.children))for(var i=0,a=e.children.length;i<a;i++){var o=e.children[i];r(o.tag)&&n(o.ns)&&at(o,t)}}function ot(e,t){var n,i,a,o,u;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(s(e))for(o=Object.keys(e),n=new Array(o.length),i=0,a=o.length;i<a;i++)u=o[i],n[i]=t(e[u],u,i);return r(n)&&(n._isVList=!0),n}function st(e,t,n,r){var i=this.$scopedSlots[e];if(i)return n=n||{},r&&(n=_(_({},r),n)),i(n)||t;var a=this.$slots[e];return a||t}function ut(e){return X(this.$options,"filters",e,!0)||lr}function ct(e,t,n){var r=dr.keyCodes[t]||n;return Array.isArray(r)?-1===r.indexOf(e):r!==e}function lt(e,t,n,r,i){if(n)if(s(n)){Array.isArray(n)&&(n=b(n));var a;for(var o in n)!function(o){if("class"===o||"style"===o||nr(o))a=e;else{var s=e.attrs&&e.attrs.type;a=r||dr.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}if(!(o in a)&&(a[o]=n[o],i)){(e.on||(e.on={}))["update:"+o]=function(e){n[o]=e}}}(o)}else;return e}function ht(e,t){var n=this._staticTrees[e];return n&&!t?Array.isArray(n)?ee(n):J(n):(n=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),ft(n,"__static__"+e,!1),n)}function pt(e,t,n){return ft(e,"__once__"+t+(n?"_"+n:""),!0),e}function ft(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&dt(e[r],t+"_"+r,n);else dt(e,t,n)}function dt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function vt(e,t){if(t)if(u(t)){var n=e.on=e.on?_({},e.on):{};for(var r in t){var i=n[r],a=t[r];n[r]=i?[].concat(a,i):a}}else;return e}function mt(e){e._vnode=null,e._staticTrees=null;var t=e.$vnode=e.$options._parentVnode,n=t&&t.context;e.$slots=ge(e.$options._renderChildren,n),e.$scopedSlots=vr,e._c=function(t,n,r,i){return rt(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return rt(e,t,n,r,i,!0)};var r=t&&t.data;j(e,"$attrs",r&&r.attrs,null,!0),j(e,"$listeners",e.$options._parentListeners,null,!0)}function yt(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function gt(e){var t=e.options;if(e.super){var n=gt(e.super);if(n!==e.superOptions){e.superOptions=n;var r=_t(e);r&&_(e.extendOptions,r),t=e.options=q(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function _t(e){var t,n=e.options,r=e.extendOptions,i=e.sealedOptions;for(var a in n)n[a]!==i[a]&&(t||(t={}),t[a]=bt(n[a],r[a],i[a]));return t}function bt(e,t,n){if(Array.isArray(e)){var r=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var i=0;i<e.length;i++)(t.indexOf(e[i])>=0||n.indexOf(e[i])<0)&&r.push(e[i]);return r}return e}function St(e){this._init(e)}function xt(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=g(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}function wt(e){e.mixin=function(e){return this.options=q(this.options,e),this}}function Ct(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var a=e.name||n.options.name,o=function(e){this._init(e)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=t++,o.options=q(n.options,e),o.super=n,o.options.props&&Ot(o),o.options.computed&&kt(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,pr.forEach(function(e){o[e]=n[e]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=e,o.sealedOptions=_({},o.options),i[r]=o,o}}function Ot(e){var t=e.options.props;for(var n in t)Fe(e.prototype,"_props",n)}function kt(e){var t=e.options.computed;for(var n in t)$e(e.prototype,n,t[n])}function Pt(e){pr.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function Et(e){return e&&(e.Ctor.options.name||e.tag)}function At(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!c(e)&&e.test(t)}function Tt(e,t,n){for(var r in e){var i=e[r];if(i){var a=Et(i.componentOptions);a&&!n(a)&&(i!==t&&It(i),e[r]=null)}}}function It(e){e&&e.componentInstance.$destroy()}function Lt(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)i=i.componentInstance._vnode,i.data&&(t=Rt(i.data,t));for(;r(n=n.parent);)n.data&&(t=Rt(t,n.data));return Mt(t.staticClass,t.class)}function Rt(e,t){return{staticClass:jt(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Mt(e,t){return r(e)||r(t)?jt(e,Ft(t)):""}function jt(e,t){return e?t?e+" "+t:e:t||""}function Ft(e){return Array.isArray(e)?zt(e):s(e)?Dt(e):"string"==typeof e?e:""}function zt(e){for(var t,n="",i=0,a=e.length;i<a;i++)r(t=Ft(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function Dt(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Nt(e){return Ti(e)?"svg":"math"===e?"math":void 0}function Ht(e){if(!_r)return!0;if(Ii(e))return!1;if(e=e.toLowerCase(),null!=Li[e])return Li[e];var t=document.createElement(e);return e.indexOf("-")>-1?Li[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Li[e]=/HTMLUnknownElement/.test(t.toString())}function Ut(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function $t(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Vt(e,t){return document.createElementNS(Ei[e],t)}function Bt(e){return document.createTextNode(e)}function Gt(e){return document.createComment(e)}function qt(e,t,n){e.insertBefore(t,n)}function Xt(e,t){e.removeChild(t)}function Wt(e,t){e.appendChild(t)}function Yt(e){return e.parentNode}function Qt(e){return e.nextSibling}function Kt(e){return e.tagName}function Zt(e,t){e.textContent=t}function Jt(e,t,n){e.setAttribute(t,n)}function en(e,t){var n=e.data.ref;if(n){var r=e.context,i=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?d(a[n],i):a[n]===i&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}function tn(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&nn(e,t)||i(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function nn(e,t){if("input"!==e.tag)return!0;var n;return(r(n=e.data)&&r(n=n.attrs)&&n.type)===(r(n=t.data)&&r(n=n.attrs)&&n.type)}function rn(e,t,n){var i,a,o={};for(i=t;i<=n;++i)a=e[i].key,r(a)&&(o[a]=i);return o}function an(e,t){(e.data.directives||t.data.directives)&&on(e,t)}function on(e,t){var n,r,i,a=e===ji,o=t===ji,s=sn(e.data.directives,e.context),u=sn(t.data.directives,t.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,cn(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(cn(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)cn(c[n],"inserted",t,e)};a?re(t.data.hook||(t.data.hook={}),"insert",h):h()}if(l.length&&re(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<l.length;n++)cn(l[n],"componentUpdated",t,e)}),!a)for(n in s)u[n]||cn(s[n],"unbind",e,e,o)}function sn(e,t){var n=Object.create(null);if(!e)return n;var r,i;for(r=0;r<e.length;r++)i=e[r],i.modifiers||(i.modifiers=Di),n[un(i)]=i,i.def=X(t.$options,"directives",i.name,!0);return n}function un(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function cn(e,t,n,r,i){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,r,i)}catch(r){E(r,n.context,"directive "+e.name+" "+t+" hook")}}function ln(e,t){var i=t.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||n(e.data.attrs)&&n(t.data.attrs))){var a,o,s=t.elm,u=e.data.attrs||{},c=t.data.attrs||{};r(c.__ob__)&&(c=t.data.attrs=_({},c));for(a in c)o=c[a],u[a]!==o&&hn(s,a,o);xr&&c.value!==u.value&&hn(s,"value",c.value);for(a in u)n(c[a])&&(Oi(a)?s.removeAttributeNS(Ci,ki(a)):xi(a)||s.removeAttribute(a))}}function hn(e,t,n){wi(t)?Pi(n)?e.removeAttribute(t):e.setAttribute(t,t):xi(t)?e.setAttribute(t,Pi(n)||"false"===n?"false":"true"):Oi(t)?Pi(n)?e.removeAttributeNS(Ci,ki(t)):e.setAttributeNS(Ci,t,n):Pi(n)?e.removeAttribute(t):e.setAttribute(t,n)}function pn(e,t){var i=t.elm,a=t.data,o=e.data;if(!(n(a.staticClass)&&n(a.class)&&(n(o)||n(o.staticClass)&&n(o.class)))){var s=Lt(t),u=i._transitionClasses;r(u)&&(s=jt(s,Ft(u))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function fn(e){var t;r(e[$i])&&(t=Sr?"change":"input",e[t]=[].concat(e[$i],e[t]||[]),delete e[$i]),r(e[Vi])&&(t=kr?"click":"change",e[t]=[].concat(e[Vi],e[t]||[]),delete e[Vi])}function dn(e,t,n,r,i){if(n){var a=t,o=yi;t=function(n){null!==(1===arguments.length?a(n):a.apply(null,arguments))&&vn(e,t,r,o)}}yi.addEventListener(e,t,Er?{capture:r,passive:i}:r)}function vn(e,t,n,r){(r||yi).removeEventListener(e,t,n)}function mn(e,t){if(!n(e.data.on)||!n(t.data.on)){var r=t.data.on||{},i=e.data.on||{};yi=t.elm,fn(r),ne(r,i,dn,vn,t.context)}}function yn(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var i,a,o=t.elm,s=e.data.domProps||{},u=t.data.domProps||{};r(u.__ob__)&&(u=t.data.domProps=_({},u));for(i in s)n(u[i])&&(o[i]="");for(i in u)if(a=u[i],"textContent"!==i&&"innerHTML"!==i||(t.children&&(t.children.length=0),a!==s[i]))if("value"===i){o._value=a;var c=n(a)?"":String(a);gn(o,t,c)&&(o.value=c)}else o[i]=a}}function gn(e,t,n){return!e.composing&&("option"===t.tag||_n(e,n)||bn(e,n))}function _n(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}function bn(e,t){var n=e.value,i=e._vModifiers;return r(i)&&i.number?p(n)!==p(t):r(i)&&i.trim?n.trim()!==t.trim():n!==t}function Sn(e){var t=xn(e.style);return e.staticStyle?_(e.staticStyle,t):t}function xn(e){return Array.isArray(e)?b(e):"string"==typeof e?qi(e):e}function wn(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(n=Sn(i.data))&&_(r,n);(n=Sn(e.data))&&_(r,n);for(var a=e;a=a.parent;)a.data&&(n=Sn(a.data))&&_(r,n);return r}function Cn(e,t){var i=t.data,a=e.data;if(!(n(i.staticStyle)&&n(i.style)&&n(a.staticStyle)&&n(a.style))){var o,s,u=t.elm,c=a.staticStyle,l=a.normalizedStyle||a.style||{},h=c||l,p=xn(t.data.style)||{};t.data.normalizedStyle=r(p.__ob__)?_({},p):p;var f=wn(t,!0);for(s in h)n(f[s])&&Yi(u,s,"");for(s in f)(o=f[s])!==h[s]&&Yi(u,s,null==o?"":o)}}function On(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function kn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Pn(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&_(t,Ji(e.name||"v")),_(t,e),t}return"string"==typeof e?Ji(e):void 0}}function En(e){sa(function(){sa(e)})}function An(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),On(e,t))}function Tn(e,t){e._transitionClasses&&d(e._transitionClasses,t),kn(e,t)}function In(e,t,n){var r=Ln(e,t),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s=i===ta?ia:oa,u=0,c=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++u>=o&&c()};setTimeout(function(){u<o&&c()},a+1),e.addEventListener(s,l)}function Ln(e,t){var n,r=window.getComputedStyle(e),i=r[ra+"Delay"].split(", "),a=r[ra+"Duration"].split(", "),o=Rn(i,a),s=r[aa+"Delay"].split(", "),u=r[aa+"Duration"].split(", "),c=Rn(s,u),l=0,h=0;return t===ta?o>0&&(n=ta,l=o,h=a.length):t===na?c>0&&(n=na,l=c,h=u.length):(l=Math.max(o,c),n=l>0?o>c?ta:na:null,h=n?n===ta?a.length:u.length:0),{type:n,timeout:l,propCount:h,hasTransform:n===ta&&ua.test(r[ra+"Property"])}}function Rn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Mn(t)+Mn(e[n])}))}function Mn(e){return 1e3*Number(e.slice(0,-1))}function jn(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var a=Pn(e.data.transition);if(!n(a)&&!r(i._enterCb)&&1===i.nodeType){for(var o=a.css,u=a.type,c=a.enterClass,l=a.enterToClass,h=a.enterActiveClass,f=a.appearClass,d=a.appearToClass,v=a.appearActiveClass,m=a.beforeEnter,y=a.enter,g=a.afterEnter,_=a.enterCancelled,b=a.beforeAppear,S=a.appear,x=a.afterAppear,w=a.appearCancelled,O=a.duration,k=Kr,P=Kr.$vnode;P&&P.parent;)P=P.parent,k=P.context;var E=!k._isMounted||!e.isRootInsert;if(!E||S||""===S){var A=E&&f?f:c,T=E&&v?v:h,I=E&&d?d:l,L=E?b||m:m,R=E&&"function"==typeof S?S:y,M=E?x||g:g,j=E?w||_:_,F=p(s(O)?O.enter:O),z=!1!==o&&!xr,D=Dn(R),N=i._enterCb=C(function(){z&&(Tn(i,I),Tn(i,T)),N.cancelled?(z&&Tn(i,A),j&&j(i)):M&&M(i),i._enterCb=null});e.data.show||re(e.data.hook||(e.data.hook={}),"insert",function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),R&&R(i,N)}),L&&L(i),z&&(An(i,A),An(i,T),En(function(){An(i,I),Tn(i,A),N.cancelled||D||(zn(F)?setTimeout(N,F):In(i,u,N))})),e.data.show&&(t&&t(),R&&R(i,N)),z||D||N()}}}function Fn(e,t){function i(){w.cancelled||(e.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[e.key]=e),d&&d(a),b&&(An(a,l),An(a,f),En(function(){An(a,h),Tn(a,l),w.cancelled||S||(zn(x)?setTimeout(w,x):In(a,c,w))})),v&&v(a,w),b||S||w())}var a=e.elm;r(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var o=Pn(e.data.transition);if(n(o))return t();if(!r(a._leaveCb)&&1===a.nodeType){var u=o.css,c=o.type,l=o.leaveClass,h=o.leaveToClass,f=o.leaveActiveClass,d=o.beforeLeave,v=o.leave,m=o.afterLeave,y=o.leaveCancelled,g=o.delayLeave,_=o.duration,b=!1!==u&&!xr,S=Dn(v),x=p(s(_)?_.leave:_),w=a._leaveCb=C(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[e.key]=null),b&&(Tn(a,h),Tn(a,f)),w.cancelled?(b&&Tn(a,l),y&&y(a)):(t(),m&&m(a)),a._leaveCb=null});g?g(i):i()}}function zn(e){return"number"==typeof e&&!isNaN(e)}function Dn(e){if(n(e))return!1;var t=e.fns;return r(t)?Dn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Nn(e,t){!0!==t.data.show&&jn(t)}function Hn(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,u=e.options.length;s<u;s++)if(o=e.options[s],i)a=w(r,Un(o))>-1,o.selected!==a&&(o.selected=a);else if(x(Un(o),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function Un(e){return"_value"in e?e._value:e.value}function $n(e){e.target.composing=!0}function Vn(e){e.target.composing&&(e.target.composing=!1,Bn(e.target,"input"))}function Bn(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Gn(e){return!e.componentInstance||e.data&&e.data.transition?e:Gn(e.componentInstance._vnode)}function qn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?qn(fe(t.children)):e}function Xn(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var a in i)t[ar(a)]=i[a];return t}function Wn(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Yn(e){for(;e=e.parent;)if(e.data.transition)return!0}function Qn(e,t){return t.key===e.key&&t.tag===e.tag}function Kn(e){return e.isComment&&e.asyncFactory}function Zn(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Jn(e){e.data.newPos=e.elm.getBoundingClientRect()}function er(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}var tr=Object.prototype.toString,nr=(f("slot,component",!0),f("key,ref,slot,is")),rr=Object.prototype.hasOwnProperty,ir=/-(\w)/g,ar=m(function(e){return e.replace(ir,function(e,t){return t?t.toUpperCase():""})}),or=m(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),sr=/([^-])([A-Z])/g,ur=m(function(e){return e.replace(sr,"$1-$2").replace(sr,"$1-$2").toLowerCase()}),cr=function(e,t,n){return!1},lr=function(e){return e},hr="data-server-rendered",pr=["component","directive","filter"],fr=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],dr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:cr,isReservedAttr:cr,isUnknownElement:cr,getTagNamespace:S,parsePlatformTagName:lr,mustUseProp:cr,_lifecycleHooks:fr},vr=Object.freeze({}),mr=/[^\w.$]/,yr=S,gr="__proto__"in{},_r="undefined"!=typeof window,br=_r&&window.navigator.userAgent.toLowerCase(),Sr=br&&/msie|trident/.test(br),xr=br&&br.indexOf("msie 9.0")>0,wr=br&&br.indexOf("edge/")>0,Cr=br&&br.indexOf("android")>0,Or=br&&/iphone|ipad|ipod|ios/.test(br),kr=br&&/chrome\/\d+/.test(br)&&!wr,Pr={}.watch,Er=!1;if(_r)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Er=!0}}),window.addEventListener("test-passive",null,Ar)}catch(e){}var Tr,Ir,Lr=function(){return void 0===Tr&&(Tr=!_r&&void 0!==e&&"server"===e.process.env.VUE_ENV),Tr},Rr=_r&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Mr="undefined"!=typeof Symbol&&A(Symbol)&&"undefined"!=typeof Reflect&&A(Reflect.ownKeys),jr=function(){function e(){r=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],r=!1;if("undefined"!=typeof Promise&&A(Promise)){var i=Promise.resolve(),a=function(e){console.error(e)};t=function(){i.then(e).catch(a),Or&&setTimeout(S)}}else if("undefined"==typeof MutationObserver||!A(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var o=1,s=new MutationObserver(e),u=document.createTextNode(String(o));s.observe(u,{characterData:!0}),t=function(){o=(o+1)%2,u.data=String(o)}}return function(e,i){var a;if(n.push(function(){if(e)try{e.call(i)}catch(e){E(e,i,"nextTick")}else a&&a(i)}),r||(r=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e,t){a=e})}}();Ir="undefined"!=typeof Set&&A(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Fr=0,zr=function(){this.id=Fr++,this.subs=[]};zr.prototype.addSub=function(e){this.subs.push(e)},zr.prototype.removeSub=function(e){d(this.subs,e)},zr.prototype.depend=function(){zr.target&&zr.target.addDep(this)},zr.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},zr.target=null;var Dr=[],Nr=Array.prototype,Hr=Object.create(Nr);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Nr[e];k(Hr,e,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a})});var Ur=Object.getOwnPropertyNames(Hr),$r={shouldConvert:!0},Vr=function(e){if(this.value=e,this.dep=new zr,this.vmCount=0,k(e,"__ob__",this),Array.isArray(e)){(gr?L:R)(e,Hr,Ur),this.observeArray(e)}else this.walk(e)};Vr.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)j(e,t[n],e[t[n]])},Vr.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)M(e[t])};var Br=dr.optionMergeStrategies;Br.data=function(e,t,n){return n?H(e,t,n):t&&"function"!=typeof t?e:H.call(this,e,t)},fr.forEach(function(e){Br[e]=U}),pr.forEach(function(e){Br[e+"s"]=$}),Br.watch=function(e,t){if(e===Pr&&(e=void 0),t===Pr&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var n={};_(n,e);for(var r in t){var i=n[r],a=t[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(a):Array.isArray(a)?a:[a]}return n},Br.props=Br.methods=Br.inject=Br.computed=function(e,t){if(!e)return t;var n=Object.create(null);return _(n,e),t&&_(n,t),n},Br.provide=H;var Gr=function(e,t){return void 0===t?e:t},qr=function(e,t,n,r,i,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Xr={child:{}};Xr.child.get=function(){return this.componentInstance},Object.defineProperties(qr.prototype,Xr);var Wr,Yr=function(e){void 0===e&&(e="");var t=new qr;return t.text=e,t.isComment=!0,t},Qr=m(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}),Kr=null,Zr=[],Jr=[],ei={},ti=!1,ni=!1,ri=0,ii=0,ai=function(e,t,n,r){this.vm=e,e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ii,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Ir,this.newDepIds=new Ir,this.expression="","function"==typeof t?this.getter=t:(this.getter=P(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};ai.prototype.get=function(){T(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;E(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Me(e),I(),this.cleanupDeps()}return e},ai.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ai.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},ai.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Re(this)},ai.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){E(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ai.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ai.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},ai.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||d(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var oi=new Ir,si={enumerable:!0,configurable:!0,get:S,set:S},ui={lazy:!0},ci={init:function(e,t,n,r){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=Je(e,Kr,n,r)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var i=e;ci.prepatch(i,i)}},prepatch:function(e,t){var n=t.componentOptions;we(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Pe(n,"mounted")),e.data.keepAlive&&(t._isMounted?Ie(n):Oe(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?ke(t,!0):t.$destroy())}},li=Object.keys(ci),hi=1,pi=2,fi=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=fi++,t._isVue=!0,e&&e._isComponent?yt(t,e):t.$options=q(gt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Se(t),de(t),mt(t),Pe(t,"beforeCreate"),We(t),ze(t),Xe(t),Pe(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(St),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=F,e.prototype.$delete=z,e.prototype.$watch=function(e,t,n){var r=this;if(u(t))return qe(r,e,t,n);n=n||{},n.user=!0;var i=new ai(r,e,t,n);return n.immediate&&t.call(r,i.value),function(){i.teardown()}}}(St),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this,i=this;if(Array.isArray(e))for(var a=0,o=e.length;a<o;a++)r.$on(e[a],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this,r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(e)){for(var i=0,a=e.length;i<a;i++)n.$off(e[i],t);return r}var o=r._events[e];if(!o)return r;if(1===arguments.length)return r._events[e]=null,r;for(var s,u=o.length;u--;)if((s=o[u])===t||s.fn===t){o.splice(u,1);break}return r},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?g(n):n;for(var r=g(arguments,1),i=0,a=n.length;i<a;i++)try{n[i].apply(t,r)}catch(n){E(n,t,'event handler for "'+e+'"')}}return t}}(St),function(e){e.prototype._update=function(e,t){var n=this;n._isMounted&&Pe(n,"beforeUpdate");var r=n.$el,i=n._vnode,a=Kr;Kr=n,n._vnode=e,i?n.$el=n.__patch__(i,e):(n.$el=n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),Kr=a,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Pe(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||d(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Pe(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null)}}}(St),function(e){e.prototype.$nextTick=function(e){return jr(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t.staticRenderFns,i=t._parentVnode;if(e._isMounted)for(var a in e.$slots)e.$slots[a]=ee(e.$slots[a]);e.$scopedSlots=i&&i.data.scopedSlots||vr,r&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=i;var o;try{o=n.call(e._renderProxy,e.$createElement)}catch(t){E(t,e,"render function"),o=e._vnode}return o instanceof qr||(o=Yr()),o.parent=i,o},e.prototype._o=pt,e.prototype._n=p,e.prototype._s=h,e.prototype._l=ot,e.prototype._t=st,e.prototype._q=x,e.prototype._i=w,e.prototype._m=ht,e.prototype._f=ut,e.prototype._k=ct,e.prototype._b=lt,e.prototype._v=Z,e.prototype._e=Yr,e.prototype._u=be,e.prototype._g=vt}(St);var di=[String,RegExp,Array],vi={name:"keep-alive",abstract:!0,props:{include:di,exclude:di},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)It(e.cache[t])},watch:{include:function(e){Tt(this.cache,this._vnode,function(t){return At(e,t)})},exclude:function(e){Tt(this.cache,this._vnode,function(t){return!At(e,t)})}},render:function(){var e=fe(this.$slots.default),t=e&&e.componentOptions;if(t){var n=Et(t);if(n&&(this.include&&!At(this.include,n)||this.exclude&&At(this.exclude,n)))return e;var r=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[r]?e.componentInstance=this.cache[r].componentInstance:this.cache[r]=e,e.data.keepAlive=!0}return e}},mi={KeepAlive:vi};!function(e){var t={};t.get=function(){return dr},Object.defineProperty(e,"config",t),e.util={warn:yr,extend:_,mergeOptions:q,defineReactive:j},e.set=F,e.delete=z,e.nextTick=jr,e.options=Object.create(null),pr.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,_(e.options.components,mi),xt(e),wt(e),Ct(e),Pt(e)}(St),Object.defineProperty(St.prototype,"$isServer",{get:Lr}),Object.defineProperty(St.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),St.version="2.4.2";var yi,gi,_i=f("style,class"),bi=f("input,textarea,option,select"),Si=function(e,t,n){return"value"===n&&bi(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},xi=f("contenteditable,draggable,spellcheck"),wi=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ci="http://www.w3.org/1999/xlink",Oi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},ki=function(e){return Oi(e)?e.slice(6,e.length):""},Pi=function(e){return null==e||!1===e},Ei={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ai=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ti=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ii=function(e){return Ai(e)||Ti(e)},Li=Object.create(null),Ri=Object.freeze({createElement:$t,createElementNS:Vt,createTextNode:Bt,createComment:Gt,insertBefore:qt,removeChild:Xt,appendChild:Wt,parentNode:Yt,nextSibling:Qt,tagName:Kt,setTextContent:Zt,setAttribute:Jt}),Mi={create:function(e,t){en(t)},update:function(e,t){e.data.ref!==t.data.ref&&(en(e,!0),en(t))},destroy:function(e){en(e,!0)}},ji=new qr("",{},[]),Fi=["create","activate","update","remove","destroy"],zi={create:an,update:an,destroy:function(e){an(e,ji)}},Di=Object.create(null),Ni=[Mi,zi],Hi={create:ln,update:ln},Ui={create:pn,update:pn},$i="__r",Vi="__c",Bi={create:mn,update:mn},Gi={create:yn,update:yn},qi=m(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Xi=/^--/,Wi=/\s*!important$/,Yi=function(e,t,n){if(Xi.test(t))e.style.setProperty(t,n);else if(Wi.test(n))e.style.setProperty(t,n.replace(Wi,""),"important");else{var r=Ki(t);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)e.style[r]=n[i];else e.style[r]=n}},Qi=["Webkit","Moz","ms"],Ki=m(function(e){if(gi=gi||document.createElement("div").style,"filter"!==(e=ar(e))&&e in gi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Qi.length;n++){var r=Qi[n]+t;if(r in gi)return r}}),Zi={create:Cn,update:Cn},Ji=m(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ea=_r&&!xr,ta="transition",na="animation",ra="transition",ia="transitionend",aa="animation",oa="animationend";ea&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ra="WebkitTransition",ia="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(aa="WebkitAnimation",oa="webkitAnimationEnd"));var sa=_r&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,ua=/\b(transform|all)(,|$)/,ca=_r?{create:Nn,activate:Nn,remove:function(e,t){!0!==e.data.show?Fn(e,t):t()}}:{},la=[Hi,Ui,Bi,Gi,Zi,ca],ha=la.concat(Ni),pa=function(e){function t(e){return new qr(T.tagName(e).toLowerCase(),{},[],void 0,e)}function a(e,t){function n(){0==--n.listeners&&s(e)}return n.listeners=t,n}function s(e){var t=T.parentNode(e);r(t)&&T.removeChild(t,e)}function u(e,t,n,a,o){if(e.isRootInsert=!o,!c(e,t,n,a)){var s=e.data,u=e.children,l=e.tag;r(l)?(e.elm=e.ns?T.createElementNS(e.ns,l):T.createElement(l,e),y(e),d(e,u,t),r(s)&&m(e,t),p(n,e.elm,a)):i(e.isComment)?(e.elm=T.createComment(e.text),p(n,e.elm,a)):(e.elm=T.createTextNode(e.text),p(n,e.elm,a))}}function c(e,t,n,a){var o=e.data;if(r(o)){var s=r(e.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(e,!1,n,a),r(e.componentInstance))return l(e,t),i(s)&&h(e,t,n,a),!0}}function l(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,v(e)?(m(e,t),y(e)):(en(e),t.push(e))}function h(e,t,n,i){for(var a,o=e;o.componentInstance;)if(o=o.componentInstance._vnode,r(a=o.data)&&r(a=a.transition)){for(a=0;a<E.activate.length;++a)E.activate[a](ji,o);t.push(o);break}p(n,e.elm,i)}function p(e,t,n){r(e)&&(r(n)?n.parentNode===e&&T.insertBefore(e,t,n):T.appendChild(e,t))}function d(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)u(t[r],n,e.elm,null,!0);else o(e.text)&&T.appendChild(e.elm,T.createTextNode(e.text))}function v(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function m(e,t){for(var n=0;n<E.create.length;++n)E.create[n](ji,e);k=e.data.hook,r(k)&&(r(k.create)&&k.create(ji,e),r(k.insert)&&t.push(e))}function y(e){for(var t,n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&T.setAttribute(e.elm,t,""),n=n.parent;r(t=Kr)&&t!==e.context&&r(t=t.$options._scopeId)&&T.setAttribute(e.elm,t,"")}function g(e,t,n,r,i,a){for(;r<=i;++r)u(n[r],a,e,t)}function _(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<E.destroy.length;++t)E.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)_(e.children[n])}function b(e,t,n,i){for(;n<=i;++n){var a=t[n];r(a)&&(r(a.tag)?(S(a),_(a)):s(a.elm))}}function S(e,t){if(r(t)||r(e.data)){var n,i=E.remove.length+1;for(r(t)?t.listeners+=i:t=a(e.elm,i),r(n=e.componentInstance)&&r(n=n._vnode)&&r(n.data)&&S(n,t),n=0;n<E.remove.length;++n)E.remove[n](e,t);r(n=e.data.hook)&&r(n=n.remove)?n(e,t):t()}else s(e.elm)}function x(e,t,i,a,o){for(var s,c,l,h,p=0,f=0,d=t.length-1,v=t[0],m=t[d],y=i.length-1,_=i[0],S=i[y],x=!o;p<=d&&f<=y;)n(v)?v=t[++p]:n(m)?m=t[--d]:tn(v,_)?(w(v,_,a),v=t[++p],_=i[++f]):tn(m,S)?(w(m,S,a),m=t[--d],S=i[--y]):tn(v,S)?(w(v,S,a),x&&T.insertBefore(e,v.elm,T.nextSibling(m.elm)),v=t[++p],S=i[--y]):tn(m,_)?(w(m,_,a),x&&T.insertBefore(e,m.elm,v.elm),m=t[--d],_=i[++f]):(n(s)&&(s=rn(t,p,d)),c=r(_.key)?s[_.key]:null,n(c)?(u(_,a,e,v.elm),_=i[++f]):(l=t[c],tn(l,_)?(w(l,_,a),t[c]=void 0,x&&T.insertBefore(e,l.elm,v.elm),_=i[++f]):(u(_,a,e,v.elm),_=i[++f])));p>d?(h=n(i[y+1])?null:i[y+1].elm,g(e,h,i,f,y,a)):f>y&&b(e,t,p,d)}function w(e,t,a,o){if(e!==t){var s=t.elm=e.elm;if(i(e.isAsyncPlaceholder))return void(r(t.asyncFactory.resolved)?O(e.elm,t,a):t.isAsyncPlaceholder=!0);if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))return void(t.componentInstance=e.componentInstance);var u,c=t.data;r(c)&&r(u=c.hook)&&r(u=u.prepatch)&&u(e,t);var l=e.children,h=t.children;if(r(c)&&v(t)){for(u=0;u<E.update.length;++u)E.update[u](e,t);r(u=c.hook)&&r(u=u.update)&&u(e,t)}n(t.text)?r(l)&&r(h)?l!==h&&x(s,l,h,a,o):r(h)?(r(e.text)&&T.setTextContent(s,""),g(s,null,h,0,h.length-1,a)):r(l)?b(s,l,0,l.length-1):r(e.text)&&T.setTextContent(s,""):e.text!==t.text&&T.setTextContent(s,t.text),r(c)&&r(u=c.hook)&&r(u=u.postpatch)&&u(e,t)}}function C(e,t,n){if(i(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var a=0;a<t.length;++a)t[a].data.hook.insert(t[a])}function O(e,t,n){if(i(t.isComment)&&r(t.asyncFactory))return t.elm=e,t.isAsyncPlaceholder=!0,!0;t.elm=e;var a=t.tag,o=t.data,s=t.children;if(r(o)&&(r(k=o.hook)&&r(k=k.init)&&k(t,!0),r(k=t.componentInstance)))return l(t,n),!0;if(r(a)){if(r(s))if(e.hasChildNodes()){for(var u=!0,c=e.firstChild,h=0;h<s.length;h++){if(!c||!O(c,s[h],n)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else d(t,s,n);if(r(o))for(var p in o)if(!I(p)){m(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}var k,P,E={},A=e.modules,T=e.nodeOps;for(k=0;k<Fi.length;++k)for(E[Fi[k]]=[],P=0;P<A.length;++P)r(A[P][Fi[k]])&&E[Fi[k]].push(A[P][Fi[k]]);var I=f("attrs,style,class,staticClass,staticStyle,key");return function(e,a,o,s,c,l){if(n(a))return void(r(e)&&_(e));var h=!1,p=[];if(n(e))h=!0,u(a,p,c,l);else{var f=r(e.nodeType);if(!f&&tn(e,a))w(e,a,p,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(hr)&&(e.removeAttribute(hr),o=!0),i(o)&&O(e,a,p))return C(a,p,!0),e;e=t(e)}var d=e.elm,m=T.parentNode(d);if(u(a,p,d._leaveCb?null:m,T.nextSibling(d)),r(a.parent)){for(var y=a.parent;y;)y.elm=a.elm,y=y.parent;if(v(a))for(var g=0;g<E.create.length;++g)E.create[g](ji,a.parent)}r(m)?b(m,[e],0,0):r(e.tag)&&_(e)}}return C(a,p,h),a.elm}}({nodeOps:Ri,modules:ha}),fa=f("text,number,password,search,email,tel,url");xr&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Bn(e,"input")});var da={inserted:function(e,t,n){if("select"===n.tag){var r=function(){Hn(e,t,n.context)};r(),(Sr||wr)&&setTimeout(r,0),e._vOptions=[].map.call(e.options,Un)}else("textarea"===n.tag||fa(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",Vn),Cr||(e.addEventListener("compositionstart",$n),e.addEventListener("compositionend",Vn)),xr&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Hn(e,t,n.context);var r=e._vOptions;(e._vOptions=[].map.call(e.options,Un)).some(function(e,t){return!x(e,r[t])})&&Bn(e,"change")}}},va={bind:function(e,t,n){var r=t.value;n=Gn(n);var i=n.data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,jn(n,function(){e.style.display=a})):e.style.display=r?a:"none"},update:function(e,t,n){var r=t.value;r!==t.oldValue&&(n=Gn(n),n.data&&n.data.transition?(n.data.show=!0,r?jn(n,function(){e.style.display=e.__vOriginalDisplay}):Fn(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},ma={model:da,show:va},ya={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},ga={name:"transition",props:ya,abstract:!0,render:function(e){var t=this,n=this.$options._renderChildren;if(n&&(n=n.filter(function(e){return e.tag||Kn(e)}),n.length)){var r=this.mode,i=n[0];if(Yn(this.$vnode))return i;var a=qn(i);if(!a)return i;if(this._leaving)return Wn(e,i);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var u=(a.data||(a.data={})).transition=Xn(this),c=this._vnode,l=qn(c);if(a.data.directives&&a.data.directives.some(function(e){return"show"===e.name})&&(a.data.show=!0),l&&l.data&&!Qn(a,l)&&!Kn(l)){var h=l&&(l.data.transition=_({},u));if("out-in"===r)return this._leaving=!0,re(h,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Wn(e,i);if("in-out"===r){if(Kn(a))return c;var p,f=function(){p()};re(u,"afterEnter",f),re(u,"enterCancelled",f),re(h,"delayLeave",function(e){p=e})}}return i}}},_a=_({tag:String,moveClass:String},ya);delete _a.mode;var ba={props:_a,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Xn(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(r){for(var c=[],l=[],h=0;h<r.length;h++){var p=r[h];p.data.transition=o,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?c.push(p):l.push(p)}this.kept=e(t,null,c),this.removed=l}return e(t,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(Zn),e.forEach(Jn),e.forEach(er);var n=document.body;n.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;An(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ia,n._moveCb=function e(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ia,e),n._moveCb=null,Tn(n,t))})}})}},methods:{hasMove:function(e,t){if(!ea)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){kn(n,e)}),On(n,t),n.style.display="none",this.$el.appendChild(n);var r=Ln(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},Sa={Transition:ga,TransitionGroup:ba};St.config.mustUseProp=Si,St.config.isReservedTag=Ii,St.config.isReservedAttr=_i,St.config.getTagNamespace=Nt,St.config.isUnknownElement=Ht,_(St.options.directives,ma),_(St.options.components,Sa),St.prototype.__patch__=_r?pa:S,St.prototype.$mount=function(e,t){return e=e&&_r?Ut(e):void 0,xe(this,e,t)},setTimeout(function(){dr.devtools&&Rr&&Rr.emit("init",St)},0),t.default=St}.call(t,n(15))},function(e,t){e.exports={numVert:7,edges:[[0,1],[0,2],[0,3],[0,4],[1,4],[1,5],[2,3],[2,5],[3,6],[4,6],[5,6]]}},function(e,t){e.exports={numVert:7,edges:[[0,1],[0,2],[0,3],[0,4],[1,2],[1,5],[2,3],[3,6],[4,5],[4,6],[5,6]]}},function(e,t){e.exports={numVert:5,edges:[[0,1],[0,2],[0,3],[0,4],[1,2],[1,3],[2,4],[3,4]]}},function(e,t){e.exports={numVert:4,edges:[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["canvasHandler","spheirahedraHandler"],data:function(){return{selectedSpheirahedron:"cube",currentRoute:window.location.pathname}},components:{},methods:{changeSpheirahedron:function(e){this.canvasHandler.changeSpheirahedron(this.selectedSpheirahedron)},changeDihedralAngleType:function(e){this.canvasHandler.changeDihedralAngleType(this.spheirahedraHandler.currentDihedralAngleIndex)},updateRenderParameter:function(e){this.canvasHandler.limitsetCanvas.numSamples=0,this.canvasHandler.limitsetCanvas.render()},updateLimitSetShader:function(e){this.canvasHandler.changeRenderMode()},renderSpheirahedraCanvas:function(e){this.canvasHandler.spheirahedraCanvas.render()},renderPrismCanvas:function(e){this.canvasHandler.prismCanvas.render()}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CameraOnSphere=t.Camera=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),c=r(u),l=n(2),h=r(l),p=t.Camera=function(){function e(t,n,r){o(this,e),this.pos=t,this.target=n,this.prevTarget=n,this.fov=r,this.up=new h.default(0,1,0)}return s(e,[{key:"computeRay",value:function(e,t,n,r){var i=.5*t/Math.tan(.5*this.fov),a=h.default.normalize(this.target.sub(this.pos)),o=h.default.normalize(h.default.cross(a,this.up)),s=h.default.normalize(h.default.cross(a,o)),u=a.scale(i),c=u.sub(o.scale(.5*e)).sub(s.scale(.5*t));return h.default.normalize(c.add(o.scale(n)).add(s.scale(r)))}},{key:"computeCoordOnScreen",value:function(e,t,n){var r=.5*n/Math.tan(.5*this.fov),i=h.default.normalize(this.target.sub(this.pos)),a=h.default.normalize(h.default.cross(i,this.up)),o=h.default.normalize(h.default.cross(i,a)),s=i.scale(r),u=s.sub(a.scale(.5*t)).sub(o.scale(.5*n)),l=h.default.normalize(e.sub(this.pos)),p=this.distToScreen(this.pos.add(s),i,this.pos,l),f=this.pos.add(l.scale(p)),d=f.sub(this.pos.add(u));return new c.default(h.default.dot(d,a),h.default.dot(d,o))}},{key:"computeVectorOnScreen",value:function(e,t,n,r){var i=.5*r/Math.tan(.5*this.fov),a=h.default.normalize(this.target.sub(this.pos)),o=h.default.normalize(h.default.cross(a,this.up)),s=h.default.normalize(h.default.cross(a,o)),u=a.scale(i),l=u.sub(o.scale(.5*n)).sub(s.scale(.5*r)),p=h.default.normalize(e.sub(this.pos)),f=this.distToScreen(this.pos.add(u),a,this.pos,p),d=this.pos.add(p.scale(f)),v=d.sub(this.pos.add(l)),m=new c.default(h.default.dot(v,o),h.default.dot(v,s));p=h.default.normalize(e.add(t.scale(50)).sub(this.pos)),f=this.distToScreen(this.pos.add(u),a,this.pos,p),d=this.pos.add(p.scale(f)),v=d.sub(this.pos.add(l));var y=new c.default(h.default.dot(v,o),h.default.dot(v,s));return c.default.normalize(y.sub(m))}},{key:"computeXAxisDirOnScreen",value:function(e,t,n){return this.computeVectorOnScreen(e,new h.default(1,0,0),t,n)}},{key:"computeYAxisDirOnScreen",value:function(e,t,n){return this.computeVectorOnScreen(e,new h.default(0,1,0),t,n)}},{key:"computeZAxisDirOnScreen",value:function(e,t,n){return this.computeVectorOnScreen(e,new h.default(0,0,1),t,n)}},{key:"getFocalXYVector",value:function(e,t){var n=h.default.normalize(this.target.sub(this.pos)),r=h.default.normalize(h.default.cross(n,this.up));return[r,h.default.normalize(h.default.cross(n,r))]}},{key:"distToScreen",value:function(e,t,n,r){var i=-h.default.dot(e,t),a=h.default.dot(t,r);return-(h.default.dot(t,n)+i)/a}},{key:"setUniformLocations",value:function(e,t,n){t.push(e.getUniformLocation(n,"u_camera.pos")),t.push(e.getUniformLocation(n,"u_camera.target")),t.push(e.getUniformLocation(n,"u_camera.fov")),t.push(e.getUniformLocation(n,"u_camera.up"))}},{key:"setUniformValues",value:function(e,t,n){return e.uniform3f(t[n++],this.pos.x,this.pos.y,this.pos.z),e.uniform3f(t[n++],this.target.x,this.target.y,this.target.z),e.uniform1f(t[n++],this.fov),e.uniform3f(t[n++],this.up.x,this.up.y,this.up.z),n}}]),e}();t.CameraOnSphere=function(e){function t(e,n,r,a){o(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new h.default(0,0,0),e,n));return s.target=e,s.fov=n,s.cameraDistance=r,s.up=a,s.theta=0,s.phi=0,s.prevThetaPhi=new c.default(s.theta,s.phi),s.update(),s}return a(t,e),s(t,[{key:"update",value:function(){this.pos=new h.default(this.cameraDistance*Math.cos(this.phi)*Math.cos(this.theta),this.cameraDistance*Math.sin(this.phi),-this.cameraDistance*Math.cos(this.phi)*Math.sin(this.theta)),this.pos=this.target.add(this.pos),Math.abs(this.phi)%(2*Math.PI)>Math.PI/2&&Math.abs(this.phi)%(2*Math.PI)<3*Math.PI/2?this.up=new h.default(0,-1,0):this.up=new h.default(0,1,0)}}]),t}(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(11),c=r(u),l=n(6),h=r(l),p=n(7),f=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.canvasRatio=r.canvas.width/r.canvas.height/2,r.spheirahedra=n,r.gl=(0,p.GetWebGL2Context)(r.canvas),r.vertexBuffer=(0,p.CreateSquareVbo)(r.gl),r.mouseState={isPressing:!1,prevPosition:new h.default(0,0),button:-1},r.scale=5,r.scaleFactor=1.25,r.translate=new h.default(0,0),r.isTweaking=!1,r}return o(t,e),s(t,[{key:"calcCanvasCoord",value:function(e,t){var n=this.canvas.getBoundingClientRect();return new h.default(this.scale*((e-n.left)*this.pixelRatio/this.canvas.height-this.canvasRatio),this.scale*-((t-n.top)*this.pixelRatio/this.canvas.height-.5))}},{key:"calcSceneCoord",value:function(e,t){return this.calcCanvasCoord(e,t).add(this.translate)}},{key:"getRenderUniformLocations",value:function(e){this.uniLocations=[],this.uniLocations.push(this.gl.getUniformLocation(e,"u_resolution")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_geometry"))}},{key:"setRenderUniformValues",value:function(e,t){var n=0;this.gl.uniform2f(this.uniLocations[n++],e,t),this.gl.uniform3f(this.uniLocations[n++],this.translate.x,this.translate.y,this.scale),this.spheirahedra.setUniformValues(this.gl,this.spheirahedraUniLocations,0,this.scale)}},{key:"render",value:function(){void 0!==this.spheirahedraProgram&&(this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.useProgram(this.spheirahedraProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.vertexAttribPointer(this.renderCanvasVAttrib,2,this.gl.FLOAT,!1,0,0),this.setRenderUniformValues(this.canvas.width,this.canvas.height),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.flush())}},{key:"mouseWheelListener",value:function(e){e.preventDefault(),e.deltaY<0?this.scale/=this.scaleFactor:this.scale*=this.scaleFactor,this.render()}},{key:"mouseDownListener",value:function(e){e.preventDefault(),this.canvas.focus();var t=this.calcSceneCoord(e.clientX,e.clientY);this.mouseState.button=e.button,e.button===c.default.MOUSE_BUTTON_LEFT&&this.spheirahedra.select(t,this.scale),this.mouseState.prevPosition=t,this.mouseState.prevTranslate=this.translate,this.mouseState.isPressing=!0}},{key:"mouseMoveListener",value:function(e){if(this.mouseState.isPressing){var t=this.calcSceneCoord(e.clientX,e.clientY);if(this.mouseState.button===c.default.MOUSE_BUTTON_LEFT){this.spheirahedra.move(t)&&(this.isTweaking=!0)}else this.mouseState.button===c.default.MOUSE_BUTTON_RIGHT&&(this.translate=this.translate.sub(t.sub(this.mouseState.prevPosition)),this.render())}}},{key:"mouseUpListener",value:function(e){this.mouseState.isPressing=!1,this.isTweaking=!1}}]),t}(c.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(11),l=r(c),h=n(6),p=r(h),f=n(2),d=r(f),v=n(27),m=n(7),y=n(14),g=n(51),_=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.spheirahedra=n,r.camera=new v.CameraOnSphere(new d.default(0,0,0),Math.PI/3,1,new d.default(0,1,0)),r.cameraDistScale=1.25,r.gl=(0,m.GetWebGL2Context)(r.canvas),r.vertexBuffer=(0,m.CreateSquareVbo)(r.gl),r.mouseState={isPressing:!1,prevPosition:new p.default(0,0),button:-1},r.renderCanvasProgram=r.gl.createProgram(),(0,m.AttachShader)(r.gl,y,r.renderCanvasProgram,r.gl.VERTEX_SHADER),(0,m.AttachShader)(r.gl,g,r.renderCanvasProgram,r.gl.FRAGMENT_SHADER),(0,m.LinkProgram)(r.gl,r.renderCanvasProgram),r.renderVAttrib=r.gl.getAttribLocation(r.renderCanvasProgram,"a_vertex"),r.texturesFrameBuffer=r.gl.createFramebuffer(),r.initRenderTextures(),r.fudgeFactor=.2,r.marchingThreshold=1e-5,r.maxIterations=50,r.isRendering=!1,r.limitRenderingMode=0,r.displaySpheirahedraSphere=!0,r.displayConvexSphere=!1,r.displayInversionSphere=!1,r.displayBoundingSphere=!1,r.castShadow=!0,r.isKeepingSampling=!1,r.isRenderingLowRes=!1,r.renderTimer=void 0,r.aoEps=.0968,r.aoIntensity=2,r}return o(t,e),u(t,[{key:"initRenderTextures",value:function(){this.renderTextures=(0,m.CreateRGBTextures)(this.gl,this.canvas.width,this.canvas.height,2),this.lowResTextures=(0,m.CreateRGBTextures)(this.gl,this.canvas.width*this.lowResRatio,this.canvas.height*this.lowResRatio,2)}},{key:"calcCanvasCoord",value:function(e,t){var n=this.canvas.getBoundingClientRect();return new p.default((e-n.left)*this.pixelRatio,(t-n.top)*this.pixelRatio)}},{key:"getRenderUniformLocations",value:function(e){this.uniLocations=[],this.uniLocations.push(this.gl.getUniformLocation(e,"u_accTexture")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_textureWeight")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_numSamples")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_resolution")),this.camera.setUniformLocations(this.gl,this.uniLocations,e),this.uniLocations.push(this.gl.getUniformLocation(e,"u_fudgeFactor")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_marchingThreshold")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_maxIterations")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_limitsetRenderingType")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_displaySpheirahedraSphere")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_displayConvexSphere")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_displayInversionSphere")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_displayBoundingSphere")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_castShadow")),this.uniLocations.push(this.gl.getUniformLocation(e,"u_ao"))}},{key:"setRenderUniformValues",value:function(e,t,n){var r=0;this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(this.uniLocations[r++],0),this.gl.uniform1f(this.uniLocations[r++],this.numSamples/(this.numSamples+1)),this.gl.uniform1f(this.uniLocations[r++],this.numSamples),this.gl.uniform2f(this.uniLocations[r++],e,t),r=this.camera.setUniformValues(this.gl,this.uniLocations,r),this.gl.uniform1f(this.uniLocations[r++],this.fudgeFactor),this.gl.uniform1f(this.uniLocations[r++],this.marchingThreshold),this.gl.uniform1i(this.uniLocations[r++],this.maxIterations),this.gl.uniform1i(this.uniLocations[r++],this.limitRenderingMode),this.gl.uniform1i(this.uniLocations[r++],this.displaySpheirahedraSphere),this.gl.uniform1i(this.uniLocations[r++],this.displayConvexSphere),this.gl.uniform1i(this.uniLocations[r++],this.displayInversionSphere),this.gl.uniform1i(this.uniLocations[r++],this.displayBoundingSphere),this.gl.uniform1i(this.uniLocations[r++],this.castShadow),this.gl.uniform2f(this.uniLocations[r++],this.aoEps,this.aoIntensity),this.spheirahedra.setUniformValues(this.gl,this.spheirahedraUniLocations,0,this.scale)}},{key:"renderToTexture",value:function(e,t,n){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.texturesFrameBuffer),this.gl.viewport(0,0,t,n),this.gl.useProgram(this.spheirahedraProgram),this.setRenderUniformValues(t,n,e[0]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,e[1],0),this.gl.enableVertexAttribArray(this.renderCanvasVAttrib),this.gl.vertexAttribPointer(this.renderCanvasVAttrib,2,this.gl.FLOAT,!1,0,0),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),e.reverse()}},{key:"renderTexturesToCanvas",value:function(e){this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.useProgram(this.renderCanvasProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e[0]);var t=this.gl.getUniformLocation(this.renderCanvasProgram,"u_texture");this.gl.uniform1i(t,e[0]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.vertexAttribPointer(this.renderVAttrib,2,this.gl.FLOAT,!1,0,0),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.flush()}},{key:"callRender",value:function(){this.isRenderingLowRes?this.renderLowRes():this.render()}},{key:"render",value:function(){void 0===this.spheirahedraProgram||this.numSamples>=this.maxSamples||(this.renderToTexture(this.renderTextures,this.canvas.width,this.canvas.height),this.renderTexturesToCanvas(this.renderTextures),this.isKeepingSampling&&this.numSamples++)}},{key:"mouseWheelListener",value:function(e){e.preventDefault(),e.deltaY<0?this.camera.cameraDistance/=this.cameraDistScale:this.camera.cameraDistance*=this.cameraDistScale,this.camera.update(),this.numSamples=0,this.callRender()}},{key:"mouseDownListener",value:function(e){e.preventDefault(),this.mouseState.isPressing=!0;var t=this.calcCanvasCoord(e.clientX,e.clientY);this.mouseState.prevPosition=t,this.mouseState.button=e.button,e.button===l.default.MOUSE_BUTTON_LEFT?this.camera.prevThetaPhi=new p.default(this.camera.theta,this.camera.phi):e.button===l.default.MOUSE_BUTTON_RIGHT&&(this.camera.prevTarget=this.camera.target)}},{key:"mouseDblClickListener",value:function(e){}},{key:"mouseUpListener",value:function(e){this.mouseState.isPressing=!1,this.isRendering=!1}},{key:"mouseMoveListener",value:function(e){if(e.preventDefault(),this.mouseState.isPressing){var t=this.calcCanvasCoord(e.clientX,e.clientY);if(this.mouseState.button===l.default.MOUSE_BUTTON_LEFT){var n=this.camera.prevThetaPhi;this.camera.theta=n.x+.01*(this.mouseState.prevPosition.x-t.x),this.camera.phi=n.y-.01*(this.mouseState.prevPosition.y-t.y),this.camera.update(),this.isRendering=!0}else if(this.mouseState.button===l.default.MOUSE_BUTTON_RIGHT){var r=t.sub(this.mouseState.prevPosition),i=this.camera.getFocalXYVector(this.canvas.width,this.canvas.height),a=s(i,2),o=a[0],u=a[1];this.camera.target=this.camera.prevTarget.add(o.scale(-r.x).add(u.scale(-r.y)).scale(.005)),this.camera.update(),this.isRendering=!0}}}},{key:"renderLowRes",value:function(){void 0!==this.spheirahedraProgram&&(void 0!==this.renderTimer&&window.clearTimeout(this.renderTimer),this.renderToTexture(this.lowResTextures,this.canvas.width*this.lowResRatio,this.canvas.height*this.lowResRatio),this.renderTexturesToCanvas(this.lowResTextures),!1===this.isKeepingSampling&&(this.renderTimer=window.setTimeout(this.render.bind(this),200)))}}]),t}(l.default);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),h=r(l),p=n(31),f=r(p),d=Math.sqrt(3),v=Math.sqrt(2),m=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_333,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=.5+this.zb*this.zc/3,t=.5+(this.zb*this.zb-this.zb*this.zc)/3,n=.5+(-this.zb*this.zc+this.zc*this.zc)/3,r=new c.default(1-e,0,0,e),i=new c.default(.5*-(1-t),this.zb,Math.sqrt(3)*(1-t)*.5,t),a=new c.default(.5*-(1-n),this.zc,-Math.sqrt(3)*(1-n)*.5,n);this.inversionSphere=new c.default(-a.center.x,-a.center.y,a.center.z,a.r),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){return{conditions:["xy - (3. / 4.)","xx - xy - (3. / 4.)","yy - xy - (3. / 4.)","y - x * 2."],regionCondition:"x > 0. && y > 0. && y > x * 2. && yy - xy - (3. / 4.) < 0."}}}]),t}(f.default),y=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_333,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(3*d+2*d*this.zb*this.zc)/9,t=(3*this.zb*this.zb-4*this.zb*this.zc+3)/9,n=(3*this.zc*this.zc-2*this.zb*this.zc+6)/9,r=new c.default(.5*(2-d*e),0,.5*e,e),i=new c.default(.5*-(1-t),this.zb,d*(1-t)*.5,t),a=new c.default(.5*-(1-n),this.zc,-d*(1-n)*.5,n);this.inversionSphere=new c.default(.2,-2,0,1),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){return{conditions:["-2. * SQRT_3 * xy + 54.0 - 30.0 * SQRT_3","-3. * xx + 4. * xy + 15.0 / 4.0","2. * xy - 3. * yy + (3. / 4.)"],regionCondition:"x > 0. && (-2. * SQRT_3 * xy + 54.0 - 30.0 * SQRT_3) > 0. && (-3. * xx + 4. * xy + 15.0 / 4.0) > 0. && (2. * xy -3. * yy + (3. / 4.)) > 0."}}}]),t}(f.default),g=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_333,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(this.zb*this.zb+2*this.zb*this.zc+6)/(5*d),t=(3*this.zb*this.zb-4*this.zb*this.zc+3)/(5*d),n=(-this.zb*this.zb-2*this.zb*this.zc+5*this.zc*this.zc+9)/15,r=new c.default(.5*(2-d*e),0,.5*e,e),i=new c.default(-.5,this.zb,d/2-t,t),a=new c.default(.5*-(1-n),this.zc,-d*(1-n)*.5,n);this.inversionSphere=new c.default(-r.center.x,3-i.center.y,i.center.z,a.r),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){return{conditions:["-SQRT_3 * xx - 2. * SQRT_3 * xy + 90. - 51.0 * SQRT_3","-3. * SQRT_3 * xx + 4. * SQRT_3 * xy + 90. - 48.0 * SQRT_3","xx + 2. * xy - 5. * yy + (9. / 4.)"],regionCondition:"x > 0. && (-SQRT_3 * xx- 2. * SQRT_3 * xy + 90. - 51.0 * SQRT_3) > 0. &&(-3. * SQRT_3 * xx + 4. * SQRT_3 * xy + 90. - 48.0 * SQRT_3) > 0. &&(xx + 2. * xy - 5. * yy + (9. / 4.)) > 0."}}}]),t}(f.default),_=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_236,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(3*this.zb*this.zb+this.zc*this.zc+6*this.zb*this.zc+6)/18,t=(15*this.zb*this.zb-this.zc*this.zc-6*this.zb*this.zc+12)/(18*d),n=(-3*this.zb*this.zb+5*this.zc*this.zc-6*this.zb*this.zc+12)/18,r=new c.default(1-e,0,0,e),i=new c.default(.5,this.zb,d/2-t,t),a=new c.default(.5*-(1-n),this.zc,-d*(1-n)*.5,n);this.inversionSphere=new c.default(r.center.x,3-r.center.y,r.center.z,a.r),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){return{conditions:["-3. * xx - 6. * xy - yy - 60. + 36. * SQRT_3","-15. * xx + 6. * xy + yy - 120. + 72. * SQRT_3","3. * xx + 6. * xy - 5. * yy - 120. + 72. * SQRT_3 "],regionCondition:"x > 0. && -3. * xx - 6. * xy - yy - 60. + 36. * SQRT_3 > 0. &&-15. * xx + 6. * xy + yy - 120. + 72. * SQRT_3 > 0. &&3. * xx + 6. * xy - 5. * yy - 120. + 72. * SQRT_3 > 0."}}}]),t}(f.default),b=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_236,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(this.zc*this.zc+6*this.zb*this.zc+3)/(7*d),t=(7*this.zb*this.zb-this.zc*this.zc-6*this.zb*this.zc+4)/14,n=(2*this.zc*this.zc-2*this.zb*this.zc+6)/7,r=new c.default(1-.5*d*e,0,.5*e,e),i=new c.default(.5*(1+t),this.zb,(1-t)*d*.5,t),a=new c.default(.5*-(1-n),this.zc,-(1-n)*d*.5,n);this.inversionSphere=new c.default(r.center.x,r.center.y+2,r.center.z,a.r),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){var e=["-6. * xy - yy + 9. / 4.","(7. * xx - 6. * xy + yy + 3.)","xy - yy - 24. + 14. * SQRT_3"],t="x > 0.",n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t+="&&",t+=s+" > 0."}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return{conditions:e,regionCondition:t}}}]),t}(f.default),S=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_244,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(this.zc*this.zc+2*this.zb*this.zc+2)/6,t=(-this.zc*this.zc+3*this.zb*this.zb-2*this.zb*this.zc+4)/(6*v),n=(this.zc*this.zc-this.zb*this.zc+2)/3,r=new c.default(1-e,0,0,e),i=new c.default(t/v,this.zb,1-t/v,t),a=new c.default(0,this.zc,-1+n,n);this.inversionSphere=new c.default(r.center.x,i.center.y+1,r.center.z,r.r),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){var e=["-3. * xx - 2. * xy + 3. / 4.","-3. * xx + 3. * xy + 2.","2. * xx + 2. * xy - 5. * yy + 3."],t="x > 0.",n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t+="&&",t+=s+" > 0."}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return{conditions:e,regionCondition:t}}}]),t}(f.default),x=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.planes=h.default.PRISM_PLANES_244,r}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=this.zb*this.zc/2,t=(this.zb*this.zb-this.zb*this.zc+2)/(2*v),n=(this.zc*this.zc-this.zb*this.zc+2)/(2*v),r=new c.default(1-e,0,0,e),i=new c.default(t/v,this.zb,1-t/v,t),a=new c.default(n/v,this.zc,n/v-1,n);this.inversionSphere=new c.default(r.center.x,a.center.y+1.5,r.center.z,.3),this.prismSpheres=[r,i,a]}},{key:"getParameterSpaceContext",value:function(){var e=["-2. * xy - yy + 1.","-3. * xx + 2. * xy + yy + 2.","xy - yy - 8. + 6. * SQRT_2"],t="x > 0.",n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t+="&&",t+=s+" > 0."}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return{conditions:e,regionCondition:t}}}]),t}(f.default);t.default=[m,y,g,_,b,S,x]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),h=r(l),p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.numFaces=6,r.numSpheres=3,r.numPlanes=3,r.vertexIndexes=[[0,1,2],[0,3,4],[2,4,5],[0,1,3],[3,4,5],[1,2,5],[1,3,5],[0,2,4]],r.numVertexes=r.vertexIndexes.length,r}return o(t,e),s(t,[{key:"computeGenSpheres",value:function(){this.gSpheres=new Array(6),this.gSpheres[0]=this.inversionSphere.invertOnPlane(this.planes[0]),this.gSpheres[1]=this.inversionSphere.invertOnSphere(this.prismSpheres[0]),this.gSpheres[2]=this.inversionSphere.invertOnPlane(this.planes[1]),this.gSpheres[3]=this.inversionSphere.invertOnSphere(this.prismSpheres[1]),this.gSpheres[4]=this.inversionSphere.invertOnPlane(this.planes[2]),this.gSpheres[5]=this.inversionSphere.invertOnSphere(this.prismSpheres[2])}},{key:"computeConvexSphere",value:function(){this.convexSphere=c.default.fromPoints(this.vertexes[0],this.vertexes[2],this.vertexes[4],this.vertexes[6])}}]),t}(h.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),h=r(l),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.numFaces=6,n.numSpheres=2,n.numPlanes=4,n.vertexIndexes=[[0,3,5],[0,1,4],[1,2,4],[2,3,5],[1,4,5],[2,4,5],[0,1,2]],n.numVertexes=n.vertexIndexes.length,n}return o(t,e),s(t,[{key:"computeGenSpheres",value:function(){this.gSpheres=new Array(5),this.gSpheres[0]=this.inversionSphere.invertOnPlane(this.planes[0]),this.gSpheres[1]=this.inversionSphere.invertOnPlane(this.planes[1]),this.gSpheres[2]=this.inversionSphere.invertOnPlane(this.planes[2]),this.gSpheres[3]=this.inversionSphere.invertOnPlane(this.planes[3]),this.gSpheres[4]=this.inversionSphere.invertOnSphere(this.prismSpheres[0]),this.gSpheres[5]=this.inversionSphere.invertOnSphere(this.prismSpheres[1])}},{key:"computeConvexSphere",value:function(){this.convexSphere=c.default.fromPoints(this.vertexes[0],this.vertexes[1],this.vertexes[2],this.vertexes[3])}}]),t}(h.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(32),h=r(l),p=n(5),f=r(p),d=n(0),v=r(d),m=n(2),y=r(m),g=Math.sqrt(2),_=(Math.sqrt(3),Math.sqrt(6)),b=.25*(_-g),S=.25*(_+g),x=b,w=S,C=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.planes=c.default.PRISM_PLANES_2222_SQUARE,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(2+this.zb*this.zb)/(4*g),t=_*(2+this.zb*this.zb)/8,n=new v.default(-e*b,this.zb,1-e*S,e),r=1-t/g,i=-t/g,a=new v.default(r-t*x,0,i+t*w,t);this.prismSpheres=[n,a];var o=-t/g,s=1-t/g;this.planes[2]=new f.default(new y.default(o,4,s),new y.default(.5*(o+r),6,.5*(s+i)),new y.default(r,-3,i),this.planes[2].normal),this.inversionSphere=new v.default(n.center.x,-1.2,n.center.z,.5)}}]),t}(h.default),O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.planes=c.default.PRISM_PLANES_2222_SQUARE,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=.25*(2+this.zb*this.zb),t=e,n=.25*(2+this.zb*this.zb),r=new v.default(0,this.zb,1-n,e),i=new v.default(1-n,0,0,t);this.prismSpheres=[r,i];var a=-n,o=1-n,s=o,u=a;this.planes[2]=new f.default(new y.default(a,4,o),new y.default(.5*(a+s),6,.5*(o+u)),new y.default(s,-2,u),this.planes[2].normal),this.inversionSphere=new v.default(r.center.x,r.center.y+1.5,r.center.z,.8)}}]),t}(h.default),k=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.planes=c.default.PRISM_PLANES_2222_SQUARE,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=(2+this.zb*this.zb)/(2*_),t=e,n=new v.default(e*b,this.zb,1-e*S,e),r=1-e/g,i=-e/g,a=new v.default(r-t*x,0,i+t*w,t);this.prismSpheres=[n,a];var o=-t/g,s=1-t/g;this.planes[2]=new f.default(new y.default(o,4,s),new y.default(.5*(o+r),6,.5*(s+i)),new y.default(r,-3,i),this.planes[2].normal),this.inversionSphere=new v.default(n.center.x,n.center.y+1.2,n.center.z,.5)}}]),t}(h.default);t.default=[C,O,k]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),l=n(1),h=r(l),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.numFaces=6,n.numSpheres=2,n.numPlanes=4,n.vertexIndexes=[[0,3,4],[0,1,4],[1,2,4],[2,3,5],[3,4,5],[2,4,5],[0,1,2]],n.numVertexes=n.vertexIndexes.length,n}return o(t,e),s(t,[{key:"computeGenSpheres",value:function(){this.gSpheres=new Array(5),this.gSpheres[0]=this.inversionSphere.invertOnPlane(this.planes[0]),this.gSpheres[1]=this.inversionSphere.invertOnPlane(this.planes[1]),this.gSpheres[2]=this.inversionSphere.invertOnPlane(this.planes[2]),this.gSpheres[3]=this.inversionSphere.invertOnPlane(this.planes[3]),this.gSpheres[4]=this.inversionSphere.invertOnSphere(this.prismSpheres[0]),this.gSpheres[5]=this.inversionSphere.invertOnSphere(this.prismSpheres[1])}},{key:"computeConvexSphere",value:function(){this.convexSphere=c.default.fromPoints(this.vertexes[0],this.vertexes[3],this.vertexes[2],this.vertexes[5])}}]),t}(h.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(34),h=r(l),p=n(5),f=r(p),d=n(0),v=r(d),m=n(2),y=r(m),g=Math.sqrt(2),_=(Math.sqrt(3),Math.sqrt(6)),b=.25*(_-g),S=.25*(_+g),x=b,w=S,C=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.planes=c.default.PRISM_PLANES_2222_SQUARE,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=_/3,t=e,n=this.zb*this.zb/g,r=new v.default(1-t*S,0,t*b,t),i=1-e/g,a=-e/g,o=new v.default(i+n*x,this.zb,a+n*w,n);this.prismSpheres=[r,o];var s=-e/g,u=1-e/g;this.planes[2]=new f.default(new y.default(s,4,u),new y.default(.5*(s+i),6,.5*(u+a)),new y.default(i,-3,a),this.planes[2].normal),this.inversionSphere=new v.default(r.center.x,r.center.y+1.2,r.center.z,.5)}}]),t}(h.default),O=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.planes=c.default.PRISM_PLANES_2222_SQUARE,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=this.zb*this.zb*.5,t=new v.default(0,0,0,1),n=new v.default(0,this.zb,-1+e,e);this.prismSpheres=[t,n],this.inversionSphere=new v.default(t.center.x,t.center.y+1.5,t.center.z,.8)}}]),t}(h.default);t.default=[C,O]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(21),a=r(i),o=n(19),s=r(o),u=n(17),c=r(u),l=n(20),h=r(l),p=n(18);r(p),n(25),n(24),n(22),n(23);window.addEventListener("load",function(){function e(){n.render(),requestAnimationFrame(e)}var t=new s.default,n=new c.default(t),r={canvasHandler:n,spheirahedraHandler:t};new a.default({el:"#vue-ui",data:r,render:function(e){return e("root",{props:r})},components:{root:h.default}});window.addEventListener("keydown",function(e){console.log(e.key)}),e()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(38),h=r(l),p=n(0),f=r(p),d=Math.sqrt(3),v=Math.sqrt(2),m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.planes=c.default.PRISM_PLANES_333,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=this.zb*this.zb/3,t=new f.default(1-e,0,0,e),n=new f.default(0,this.zb,0,1);this.prismSpheres=[t,n]}}]),t}(h.default),y=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.planes=c.default.PRISM_PLANES_333,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=.5*d,t=(3+2*this.zb*this.zb)/6,n=new f.default(1-t,0,0,t),r=new f.default(-.5,this.zb,0,e);this.prismSpheres=[n,r]}}]),t}(h.default),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.planes=c.default.PRISM_PLANES_333,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=d,t=(this.zb*this.zb-3)/3,n=new f.default(1-t,0,0,t),r=new f.default(1,this.zb,0,e);this.prismSpheres=[n,r]}}]),t}(h.default),_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.planes=c.default.PRISM_PLANES_236,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=this.zb*this.zb/d,t=new f.default(1-e*d*.5,0,.5*e,e),n=new f.default(0,this.zb,0,1);this.prismSpheres=[t,n]}}]),t}(h.default),b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.planes=c.default.PRISM_PLANES_244,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=v,t=(this.zb*this.zb-2)/2,n=new f.default(1-t,0,0,t),r=new f.default(1,this.zb,0,e);this.prismSpheres=[n,r]}}]),t}(h.default),S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,0));return n.planes=c.default.PRISM_PLANES_244,n}return o(t,e),s(t,[{key:"computeSpheres",value:function(){var e=this.zb*this.zb/2,t=new f.default(1-e,0,0,e),n=new f.default(0,this.zb,0,1);this.prismSpheres=[t,n]}}]),t}(h.default);t.default=[m,y,g,_,b,S]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(0),h=r(l),p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.numFaces=5,r.numSpheres=2,r.numPlanes=3,r.vertexIndexes=[[0,1,2],[2,3,4],[0,3,4],[1,2,3],[0,1,3],[0,2,4]],r.numVertexes=r.vertexIndexes.length,r.inversionSphere=new h.default(.5,-2,0,1),r}return o(t,e),s(t,[{key:"computeGenSpheres",value:function(){this.gSpheres=new Array(5),this.gSpheres[0]=this.inversionSphere.invertOnPlane(this.planes[0]),this.gSpheres[1]=this.inversionSphere.invertOnSphere(this.prismSpheres[0]),this.gSpheres[2]=this.inversionSphere.invertOnPlane(this.planes[1]),this.gSpheres[3]=this.inversionSphere.invertOnSphere(this.prismSpheres[1]),this.gSpheres[4]=this.inversionSphere.invertOnPlane(this.planes[2])}},{key:"computeConvexSphere",value:function(){this.convexSphere=h.default.fromPoints(this.vertexes[0],this.vertexes[1],this.vertexes[2],this.vertexes[4])}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=r(s),c=n(40),l=r(c),h=n(2),p=r(h),f=n(5),d=r(f),v=n(0),m=r(v),y=Math.sqrt(2),g=Math.sqrt(3),_=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,0));return e.planes=[new d.default(new p.default(0,5,1),new p.default(.5,1,.5),new p.default(1,2,0),new p.default(.5,0,.5).normalize()),new d.default(new p.default(1-g,5,g),new p.default(.5*(1-2*g),1,.5*(2*g-1)),new p.default(-g,2,g-1),new p.default(-.5,0,.5).normalize()),new d.default(new p.default(0,5,-1),new p.default(-.5,1,-.5),new p.default(-1,2,0),new p.default(-.5,0,-.5).normalize()),new d.default(new p.default(0,3,-1),new p.default(.5,3,-.5),new p.default(1,2,0),new p.default(.5,0,-.5).normalize())],e.prismSpheres=[new m.default(1-.5*(g+1),0,.5*(g-1),y)],e}return o(t,e),t}(l.default),b=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,0));return e.planes=u.default.PRISM_PLANES_2222_SQUARE,e.prismSpheres=[new m.default(0,0,0,1)],e}return o(t,e),t}(l.default);t.default=[_,b]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(0),h=r(l),p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.numFaces=5,r.numSpheres=1,r.numPlanes=4,r.vertexIndexes=[[0,1,4],[0,3,4],[1,2,4],[2,3,4],[0,1,2]],r.numVertexes=r.vertexIndexes.length,r.inversionSphere=new h.default(.5,3,0,1.3),r}return o(t,e),s(t,[{key:"computeGenSpheres",value:function(){this.gSpheres=new Array(5),this.gSpheres[0]=this.inversionSphere.invertOnPlane(this.planes[0]),this.gSpheres[1]=this.inversionSphere.invertOnPlane(this.planes[1]),this.gSpheres[2]=this.inversionSphere.invertOnPlane(this.planes[2]),this.gSpheres[3]=this.inversionSphere.invertOnPlane(this.planes[3]),this.gSpheres[4]=this.inversionSphere.invertOnSphere(this.prismSpheres[0])}},{key:"computeConvexSphere",value:function(){this.convexSphere=h.default.fromPoints(this.vertexes[0],this.vertexes[1],this.vertexes[2],this.vertexes[4])}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=(r(s),n(1)),c=r(u),l=n(42),h=r(l),p=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,0));return e.planes=c.default.PRISM_PLANES_333,e}return o(t,e),t}(h.default),f=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,0));return e.planes=c.default.PRISM_PLANES_236,e}return o(t,e),t}(h.default),d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,0));return e.planes=c.default.PRISM_PLANES_244,e}return o(t,e),t}(h.default);t.default=[p,f,d]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(0),h=r(l),p=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.numFaces=4,r.numSpheres=1,r.numPlanes=3,r.vertexIndexes=[[0,1,3],[0,2,3],[1,2,3],[0,1,2]],r.numVertexes=r.vertexIndexes.length,r.prismSpheres=[new h.default(0,0,0,1)],r.inversionSphere=new h.default(.5,3,0,1.3),r}return o(t,e),s(t,[{key:"computeGenSpheres",value:function(){this.gSpheres=new Array(4),this.gSpheres[0]=this.inversionSphere.invertOnPlane(this.planes[0]),this.gSpheres[1]=this.inversionSphere.invertOnPlane(this.planes[1]),this.gSpheres[2]=this.inversionSphere.invertOnPlane(this.planes[2]),this.gSpheres[3]=this.inversionSphere.invertOnSphere(this.prismSpheres[0])}},{key:"computeConvexSphere",value:function(){this.convexSphere=h.default.fromPoints(this.vertexes[0],this.vertexes[1],this.vertexes[2],this.vertexes[3])}}]),t}(c.default);t.default=p},function(e,t,n){t=e.exports=n(44)(void 0),t.push([e.i,"",""])},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={});a["./uniforms.njk.frag"]=n(10),a["./color.njk.frag"]=n(8),a["./raytrace.njk.frag"]=n(9);var o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/limitset.njk.frag"]=function(){function e(e,t,n,r,i){var a=null,o=null,s="";try{var u=null;s+="#version 300 es\n\nprecision mediump float;\n\n";var c=[];c.push(function(t){e.getTemplate("./uniforms.njk.frag",!1,"shaders/limitset.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\n";var c=[];c.push(function(t){e.getTemplate("./color.njk.frag",!1,"shaders/limitset.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\n";var c=[];c.push(function(t){e.getTemplate("./raytrace.njk.frag",!1,"shaders/limitset.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){if(s+="\n\nconst int ID_PRISM = 0;\nconst int ID_INI_SPHERES = 1;\n\nfloat g_invNum;\nvec4 distFunc(const vec3 pos) {\n    vec4 hit = vec4(MAX_FLOAT, -1, -1, -1);\n\t",0==r.contextOrFrameLookup(t,n,"renderMode")?s+="\n\treturn DistUnion(hit, vec4(DistLimitsetTerrain(pos, g_invNum),\n\t\t\t\t\t\t\t   ID_PRISM, -1, -1));\n\t":1==r.contextOrFrameLookup(t,n,"renderMode")?s+="\n\treturn DistUnion(hit, vec4(DistLimitsetFromSeedSpheres(pos + u_boundingSphere.center, g_invNum),\n\t\t\t\t\t\t\t   ID_PRISM, -1, -1));\n\t":s+="\n\treturn DistUnion(hit, vec4(DistLimitsetFromSpheirahedra(pos + u_boundingSphere.center, g_invNum),\n\t\t\t\t\t\t\t   ID_PRISM, -1, -1));\n\t",s+="\n}\n\nconst vec2 NORMAL_COEFF = vec2(0.001, 0.);\nvec3 computeNormal(const vec3 p) {\n    return normalize(vec3(distFunc(p + NORMAL_COEFF.xyy).x - distFunc(p - NORMAL_COEFF.xyy).x,\n                          distFunc(p + NORMAL_COEFF.yxy).x - distFunc(p - NORMAL_COEFF.yxy).x,\n                          distFunc(p + NORMAL_COEFF.yyx).x - distFunc(p - NORMAL_COEFF.yyx).x));\n}\n\nconst int MAX_MARCHING_LOOP = 3000;\nconst float MARCHING_THRESHOLD = 0.001;\nvoid march(const vec3 rayOrg, const vec3 rayDir,\n           inout IsectInfo isectInfo,\n\t\t   float tmin, float tmax) {\n    float rayLength = tmin;\n    vec3 rayPos = rayOrg + rayDir * rayLength;\n    vec4 dist = vec4(-1);\n    for(int i = 0 ; i < MAX_MARCHING_LOOP ; i++) {\n        if(rayLength > tmax) break;\n        dist = distFunc(rayPos);\n        rayLength += dist.x;\n        rayPos = rayOrg + rayDir * rayLength;\n        if(dist.x < u_marchingThreshold) {\n            isectInfo.objId = int(dist.y);\n            //isectInfo.objIndex = int(dist.z);\n            //isectInfo.objComponentId = int(dist.w);\n\t\t\tisectInfo.matColor = Hsv2rgb(min(1., -0.13 + (g_invNum) * 0.01), 1., 1.);\n            isectInfo.intersection = rayPos;\n            isectInfo.normal = computeNormal(rayPos);\n            isectInfo.mint = rayLength;\n            isectInfo.hit = true;\n            break;\n        }\n    }\n}\n\n// This function is based on FractalLab's implementation\n// http://hirnsohle.de/test/fractalLab/\nfloat ambientOcclusion(vec3 p, vec3 n, float eps, float aoIntensity ){\n    float o = 1.0;\n    float k = aoIntensity;\n    float d = 2.0 * eps;\n\n    for (int i = 0; i < 5; i++) {\n        o -= (d - distFunc(p + n * d).x) * k;\n        d += eps;\n        k *= 0.5;\n    }\n\n    return clamp(o, 0.0, 1.0);\n}\n\nfloat computeShadowFactor (const vec3 rayOrg, const vec3 rayDir,\n                           const float mint, const float maxt, const float k) {\n    float shadowFactor = 1.0;\n    for(float t = mint ; t < maxt ;){\n        float d = distFunc(rayOrg + rayDir * t).x;\n        if(d < u_marchingThreshold) {\n            shadowFactor = 0.;\n            break;\n        }\n\n        shadowFactor = min(shadowFactor, k * d / t);\n        t += d;\n    }\n    return clamp(shadowFactor, 0.0, 1.0);\n}\n\nconst vec3 AMBIENT_FACTOR = vec3(0.3);\nconst vec3 LIGHT_DIR = normalize(vec3(1, 1, 0));\nvec3 computeColor(const vec3 rayOrg, const vec3 rayDir) {\n    IsectInfo isectInfo = NewIsectInfo();\n    vec3 rayPos = rayOrg;\n\n    vec3 l = vec3(0);\n\n    float transparency = 0.8;\n    float coeff = 1.;\n    for(int depth = 0 ; depth < 8; depth++){\n\t\tfloat tmin = 0.;\n\t\tfloat tmax = MAX_FLOAT;\n\t\tbool hit = true;\n\t\t",0==r.contextOrFrameLookup(t,n,"renderMode")?s+="\n\t\thit = IntersectBoundingPlane(vec3(0, 1, 0), vec3(0, u_boundingPlaneY, 0),\n\t\t\t\t\t\t\t\t\t rayPos, rayDir,\n\t\t\t\t\t\t\t\t\t tmin, tmax);\n\t\t":s+="\n\t\thit = IntersectBoundingSphere(u_boundingSphere.center - u_boundingSphere.center,\n                                      u_boundingSphere.r.x,\n                                      rayPos, rayDir,\n                                      tmin, tmax);\n        ",s+="\n        if(hit)\n            march(rayPos, rayDir, isectInfo, tmin, tmax);\n\n\t\t",0==r.contextOrFrameLookup(t,n,"renderMode")){s+="\n\t\tif(u_displaySpheirahedraSphere) {\n\t\t\t",n=n.push();var c=(a=123,o=18,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numPrismSpheres")]));if(c)for(var l=c.length,h=0;h<c.length;h++){var p=c[h];n.set("n",p),n.set("loop.index",h+1),n.set("loop.index0",h),n.set("loop.revindex",l-h),n.set("loop.revindex0",l-h-1),n.set("loop.first",0===h),n.set("loop.last",h===l-1),n.set("loop.length",l),s+="\n\t\t\tIntersectSphere(ID_INI_SPHERES, ",s+=r.suppressValue(p,e.opts.autoescape),s+=", -1,\n\t\t\t\t\t\t\tHsv2rgb(float(",s+=r.suppressValue(p,e.opts.autoescape),s+=") * 0.3, 1., 1.),\n\t\t\t\t\t\t\tu_prismSpheres[",s+=r.suppressValue(p,e.opts.autoescape),s+="].center,\n\t\t\t\t\t\t\tu_prismSpheres[",s+=r.suppressValue(p,e.opts.autoescape),s+="].r.x,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t\t"}n=n.pop(),s+="\n\t\t}\n\t\t"}else{s+="\n\t\tif(u_displaySpheirahedraSphere) {\n\t\t\t",n=n.push();var f=(a=133,o=18,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numSpheirahedraSpheres")]));if(f)for(var d=f.length,v=0;v<f.length;v++){var m=f[v];n.set("n",m),n.set("loop.index",v+1),n.set("loop.index0",v),n.set("loop.revindex",d-v),n.set("loop.revindex0",d-v-1),n.set("loop.first",0===v),n.set("loop.last",v===d-1),n.set("loop.length",d),s+="\n\t\t\tIntersectSphere(ID_INI_SPHERES, ",s+=r.suppressValue(m,e.opts.autoescape),s+=", -1,\n\t\t\t\t\t\t\tHsv2rgb(float(",s+=r.suppressValue(m,e.opts.autoescape),s+=") * 0.3, 1., 1.),\n\t\t\t\t\t\t\tu_spheirahedraSpheres[",s+=r.suppressValue(m,e.opts.autoescape),s+="].center - u_boundingSphere.center,\n\t\t\t\t\t\t\tu_spheirahedraSpheres[",s+=r.suppressValue(m,e.opts.autoescape),s+="].r.x,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t\t"}n=n.pop(),s+="\n\t\t}\n        if(u_displayBoundingSphere) {\n            IntersectSphere(ID_INI_SPHERES, 0, -1,\n                            Hsv2rgb(0.3, 1., 1.),\n                            u_boundingSphere.center - u_boundingSphere.center,\n                            u_boundingSphere.r.x,\n                            rayPos, rayDir, isectInfo);\n        }\n\t\t"}s+="\n\n        if(isectInfo.hit) {\n            vec3 matColor = isectInfo.matColor;\n            vec3 diffuse =  clamp(dot(isectInfo.normal, LIGHT_DIR), 0., 1.) * matColor;\n            vec3 ambient = matColor * AMBIENT_FACTOR;\n            bool transparent = false;\n            transparent =  (isectInfo.objId == ID_INI_SPHERES) ?\n                true : false;\n\n            if(transparent) {\n                coeff *= transparency;\n                l += (diffuse + ambient) * coeff;\n                rayPos = isectInfo.intersection + rayDir * 0.000001 * 2.;\n                isectInfo = NewIsectInfo();\n                continue;\n            } else {\n                float k = u_castShadow ? computeShadowFactor(isectInfo.intersection + 0.001 * isectInfo.normal,\n                                              LIGHT_DIR,\n                                                             0.1, 5., 100.) : 1.;\n                l += (diffuse * k + ambient * ambientOcclusion(isectInfo.intersection,\n                                                               isectInfo.normal,\n                                                               u_ao.x, u_ao.y )) * coeff;\n            }\n        }\n        break;\n    }\n\n    return l;\n}\n\nout vec4 outColor;\nvoid main() {\n    vec3 sum = vec3(0);\n    vec2 coordOffset = Rand2n(gl_FragCoord.xy, u_numSamples);\n    vec3 ray = CalcRay(u_camera.pos, u_camera.target, u_camera.up, u_camera.fov,\n                       u_resolution, gl_FragCoord.xy + coordOffset);\n    vec3 texCol = texture(u_accTexture, gl_FragCoord.xy / u_resolution).rgb;\n\toutColor = vec4(mix(computeColor(u_camera.pos, ray), texCol, u_textureWeight), 1.0);\n}\n",u?u.rootRenderFunc(e,t,n,r,i):i(null,s)})})})}catch(e){i(r.handleError(e,a,o))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/limitset.njk.frag"],a)},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={}),o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/parameter.njk.frag"]=function(){function e(e,t,n,r,i){var a=null,o=null,s="";try{var u=null;s+="#version 300 es\n\nprecision mediump float;\n\nstruct Sphere {\n    vec3 center;\n    vec2 r;\n};\n\nuniform vec2 u_resolution;\nuniform vec3 u_geometry;\nuniform vec2 u_zbzc; //[zb, zc]\nuniform vec2 u_ui; //[pointRadius, lineWidth]\n\nconst float DISPLAY_GAMMA_COEFF = 1. / 2.2;\nvec4 gammaCorrect(vec4 rgba) {\n    return vec4((min(pow(rgba.r, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.g, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.b, DISPLAY_GAMMA_COEFF), 1.)),\n                rgba.a);\n}\n\nvec2 rand2n(const vec2 co, const float sampleIndex) {\n    vec2 seed = co * (sampleIndex + 1.0);\n    seed+=vec2(-1,1);\n    // implementation based on: lumina.sourceforge.net/Tutorials/Noise.html\n    return vec2(fract(sin(dot(seed.xy ,vec2(12.9898,78.233))) * 43758.5453),\n                fract(cos(dot(seed.xy ,vec2(4.898,7.23))) * 23421.631));\n}\n\nconst float SQRT_3 = sqrt(3.);\nconst float SQRT_2 = sqrt(2.);\nout vec4 outColor;\nconst float MAX_SAMPLES = 10.;\nvoid main() {\n    vec3 sum = vec3(0);\n    float ratio = u_resolution.x / u_resolution.y / 2.0;\n    for(float i = 0.; i < MAX_SAMPLES; i++){\n        vec2 position = ((gl_FragCoord.xy + rand2n(gl_FragCoord.xy, i)) / u_resolution.yy ) - vec2(ratio, 0.5);\n        position = position * u_geometry.z;\n        position += u_geometry.xy;\n\n\t\tfloat x = position.x;\n\t\tfloat y = position.y;\n\t\tfloat xy = x * y;\n\t\tfloat xx = x * x;\n\t\tfloat yy = y * y;\n\t\t\n\t\tif (distance(position, u_zbzc) < u_ui.x) {\n            // point (zb, zc)\n            sum += vec3(1, 0, 0);\n\t\t\tcontinue;\n        } \n\t\t\n\t\t",n=n.push();var c=(a=54,o=17,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,e.getFilter("length").call(t,r.contextOrFrameLookup(t,n,"conditions"))]));if(c)for(var l=c.length,h=0;h<c.length;h++){var p=c[h];n.set("n",p),n.set("loop.index",h+1),n.set("loop.index0",h),n.set("loop.revindex",l-h),n.set("loop.revindex0",l-h-1),n.set("loop.first",0===h),n.set("loop.last",h===l-1),n.set("loop.length",l),s+="\n\t\t",0==p?(s+="\n\t\tif (abs(",s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"conditions"),p),e.opts.autoescape),s+=") < u_ui.y) {\n\t\t\tsum += vec3(0, 1, 0);\n\t\t}\n\t\t"):(s+="\n\t\telse if (abs(",s+=r.suppressValue(r.memberLookup(r.contextOrFrameLookup(t,n,"conditions"),p),e.opts.autoescape),s+=") < u_ui.y) {\n\t\t\tsum += vec3(0, 1, 0);\n\t\t}\n\t\t"),s+="\n\t\t"}n=n.pop(),s+="\n\n\t\tif (abs(position.x) < u_ui.y ||\n\t\t\tabs(position.y) < u_ui.y) {\n            // z-axis and y-axis\n            sum += vec3(0.7);\n        }\n\n\t\t",r.contextOrFrameLookup(t,n,"regionCondition")&&(s+="\n\t\tif(",s+=r.suppressValue(e.getFilter("safe").call(t,r.contextOrFrameLookup(t,n,"regionCondition")),e.opts.autoescape),s+=") {\n            sum += vec3(0.3, 0.3, 0.);\n        }\n\t\t"),s+="\n    }\n\n    outColor = gammaCorrect(vec4(sum / MAX_SAMPLES, 1));\n}\n",u?u.rootRenderFunc(e,t,n,r,i):i(null,s)}catch(e){i(r.handleError(e,a,o))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/parameter.njk.frag"],a)},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={});a["./uniforms.njk.frag"]=n(10),a["./color.njk.frag"]=n(8),a["./raytrace.njk.frag"]=n(9);var o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/prism.njk.frag"]=function(){function e(e,t,n,r,i){var a=null,o=null,s="";try{var u=null;s+="#version 300 es\n\nprecision mediump float;\n\n";var c=[];c.push(function(t){e.getTemplate("./uniforms.njk.frag",!1,"shaders/prism.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\n";var c=[];c.push(function(t){e.getTemplate("./color.njk.frag",!1,"shaders/prism.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\n";var c=[];c.push(function(t){e.getTemplate("./raytrace.njk.frag",!1,"shaders/prism.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\nconst int ID_PRISM = 0;\nconst int ID_INI_SPHERES = 1;\n\nvec4 distFunc(const vec3 pos) {\n    vec4 hit = vec4(MAX_FLOAT, -1, -1, -1);\n    hit = DistUnion(hit, vec4(DistInfSpheirahedra(pos), ID_PRISM, -1, -1));\n    return hit;\n}\n\nconst vec2 NORMAL_COEFF = vec2(0.00001, 0.);\nvec3 computeNormal(const vec3 p) {\n    return normalize(vec3(distFunc(p + NORMAL_COEFF.xyy).x - distFunc(p - NORMAL_COEFF.xyy).x,\n                          distFunc(p + NORMAL_COEFF.yxy).x - distFunc(p - NORMAL_COEFF.yxy).x,\n                          distFunc(p + NORMAL_COEFF.yyx).x - distFunc(p - NORMAL_COEFF.yyx).x));\n}\n\nconst int MAX_MARCHING_LOOP = 3000;\nconst float MARCHING_THRESHOLD = 0.001;\nvoid march(const vec3 rayOrg, const vec3 rayDir,\n           inout IsectInfo isectInfo) {\n    float rayLength = 0.;\n    vec3 rayPos = rayOrg + rayDir * rayLength;\n    vec4 dist = vec4(-1);\n    for(int i = 0 ; i < MAX_MARCHING_LOOP ; i++) {\n        if(rayLength > isectInfo.maxt ||\n           rayLength > isectInfo.mint) break;\n        dist = distFunc(rayPos);\n        rayLength += dist.x;\n        rayPos = rayOrg + rayDir * rayLength;\n        if(dist.x < MARCHING_THRESHOLD) {\n            isectInfo.objId = int(dist.y);\n            //isectInfo.objIndex = int(dist.z);\n            //isectInfo.objComponentId = int(dist.w);\n            isectInfo.matColor = vec3(0.7);\n            isectInfo.intersection = rayPos;\n            isectInfo.normal = computeNormal(rayPos);\n            isectInfo.mint = rayLength;\n            isectInfo.hit = true;\n            break;\n        }\n    }\n}\n\nconst vec3 AMBIENT_FACTOR = vec3(0.1);\nconst vec3 LIGHT_DIR = normalize(vec3(1, 1, 0));\nvec3 computeColor(const vec3 rayOrg, const vec3 rayDir) {\n    IsectInfo isectInfo = NewIsectInfo();\n    vec3 rayPos = rayOrg;\n\n    vec3 l = vec3(0);\n\n    float transparency = 0.8;\n    float coeff = 1.;\n    for(int depth = 0 ; depth < 8; depth++){\n        march(rayPos, rayDir, isectInfo);\n\t\tif(u_displaySpheirahedraSphere) {\n\t\t\t",n=n.push();var c=(a=66,o=18,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numPrismSpheres")]));if(c)for(var l=c.length,h=0;h<c.length;h++){var p=c[h];n.set("n",p),n.set("loop.index",h+1),n.set("loop.index0",h),n.set("loop.revindex",l-h),n.set("loop.revindex0",l-h-1),n.set("loop.first",0===h),n.set("loop.last",h===l-1),n.set("loop.length",l),s+="\n\t\t\tIntersectSphere(ID_INI_SPHERES, ",s+=r.suppressValue(p,e.opts.autoescape),s+=", -1,\n\t\t\t\t\t\t\tHsv2rgb(float(",s+=r.suppressValue(p,e.opts.autoescape),s+=") * 0.3, 1., 1.),\n\t\t\t\t\t\t\tu_prismSpheres[",s+=r.suppressValue(p,e.opts.autoescape),s+="].center,\n\t\t\t\t\t\t\tu_prismSpheres[",s+=r.suppressValue(p,e.opts.autoescape),s+="].r.x*1.00001,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t\t"}n=n.pop(),s+="\n\t\t}\n\t\tif(u_displayInversionSphere) {\n\t\t\tIntersectSphere(ID_INI_SPHERES, -1, -1,\n\t\t\t\t\t\t\tvec3(0.7),\n\t\t\t\t\t\t\tu_inversionSphere.center,\n\t\t\t\t\t\t\tu_inversionSphere.r.x * 1.000001,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t}\n        if(isectInfo.hit) {\n            vec3 matColor = isectInfo.matColor;\n            vec3 diffuse =  clamp(dot(isectInfo.normal, LIGHT_DIR), 0., 1.) * matColor;\n            vec3 ambient = matColor * AMBIENT_FACTOR;\n            bool transparent = false;\n            transparent =  (isectInfo.objId == ID_INI_SPHERES) ?\n                true : false;\n\n            if(transparent) {\n                coeff *= transparency;\n                l += (diffuse + ambient) * coeff;\n                rayPos = isectInfo.intersection + rayDir * 0.000001 * 2.;\n                isectInfo = NewIsectInfo();\n                continue;\n            } else {\n                l += (diffuse + ambient) * coeff;\n            }\n        }\n        break;\n    }\n\n    return l;\n}\n\nout vec4 outColor;\nvoid main() {\n    vec3 sum = vec3(0);\n    float MAX_SAMPLES = 5.;\n    for (float i = 0. ; i < MAX_SAMPLES ; i++) {\n        vec2 coordOffset = Rand2n(gl_FragCoord.xy, i);\n        vec3 ray = CalcRay(u_camera.pos, u_camera.target, u_camera.up, u_camera.fov,\n                           u_resolution, gl_FragCoord.xy + coordOffset);\n        sum += computeColor(u_camera.pos, ray);\n    }\n    outColor = vec4(sum / MAX_SAMPLES, 1.0);\n}\n",u?u.rootRenderFunc(e,t,n,r,i):i(null,s)})})})}catch(e){i(r.handleError(e,a,o))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/prism.njk.frag"],a)},function(e,t,n){var r,i=n(4);r=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var a=i.webpackDependencies||(i.webpackDependencies={});a["./uniforms.njk.frag"]=n(10),a["./color.njk.frag"]=n(8),a["./raytrace.njk.frag"]=n(9);var o=n(3);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["shaders/spheirahedra.njk.frag"]=function(){function e(e,t,n,r,i){var a=null,o=null,s="";try{var u=null;s+="#version 300 es\n\nprecision mediump float;\n\n";var c=[];c.push(function(t){e.getTemplate("./uniforms.njk.frag",!1,"shaders/spheirahedra.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\n";var c=[];c.push(function(t){e.getTemplate("./color.njk.frag",!1,"shaders/spheirahedra.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\n";var c=[];c.push(function(t){e.getTemplate("./raytrace.njk.frag",!1,"shaders/spheirahedra.njk.frag",null,function(e,n){if(e)return void i(e);t(null,n)})}),c.push(function(e,r){e.render(t.getVariables(),n,function(e,t){if(e)return void i(e);r(null,t)})}),c.push(function(e,t){s+=e,t(null)}),e.waterfall(c,function(){s+="\n\nconst int ID_PRISM = 0;\nconst int ID_INI_SPHERES = 1;\n\nvec4 distFunc(const vec3 pos) {\n    vec4 hit = vec4(MAX_FLOAT, -1, -1, -1);\n    hit = DistUnion(hit, vec4(DistSpheirahedra(pos + u_convexSphere.center), ID_PRISM, -1, -1));\n    return hit;\n}\n\nconst vec2 NORMAL_COEFF = vec2(0.00001, 0.);\nvec3 computeNormal(const vec3 p) {\n    return normalize(vec3(distFunc(p + NORMAL_COEFF.xyy).x - distFunc(p - NORMAL_COEFF.xyy).x,\n                          distFunc(p + NORMAL_COEFF.yxy).x - distFunc(p - NORMAL_COEFF.yxy).x,\n                          distFunc(p + NORMAL_COEFF.yyx).x - distFunc(p - NORMAL_COEFF.yyx).x));\n}\n\nconst int MAX_MARCHING_LOOP = 3000;\nconst float MARCHING_THRESHOLD = 0.001;\nvoid march(const vec3 rayOrg, const vec3 rayDir,\n           inout IsectInfo isectInfo) {\n    float rayLength = 0.;\n    vec3 rayPos = rayOrg + rayDir * rayLength;\n    vec4 dist = vec4(-1);\n    for(int i = 0 ; i < MAX_MARCHING_LOOP ; i++) {\n        if(rayLength > isectInfo.maxt ||\n           rayLength > isectInfo.mint) break;\n        dist = distFunc(rayPos);\n        rayLength += dist.x;\n        rayPos = rayOrg + rayDir * rayLength;\n        if(dist.x < MARCHING_THRESHOLD) {\n            isectInfo.objId = int(dist.y);\n            //isectInfo.objIndex = int(dist.z);\n            //isectInfo.objComponentId = int(dist.w);\n            isectInfo.matColor = vec3(0.7);\n            isectInfo.intersection = rayPos;\n            isectInfo.normal = computeNormal(rayPos);\n            isectInfo.mint = rayLength;\n            isectInfo.hit = true;\n            break;\n        }\n    }\n}\n\nconst vec3 AMBIENT_FACTOR = vec3(0.1);\nconst vec3 LIGHT_DIR = normalize(vec3(1, 1, 0));\nvec3 computeColor(const vec3 rayOrg, const vec3 rayDir) {\n    IsectInfo isectInfo = NewIsectInfo();\n    vec3 rayPos = rayOrg;\n\n    vec3 l = vec3(0);\n\n    float transparency = 0.8;\n    float coeff = 1.;\n    for(int depth = 0 ; depth < 8; depth++){\n        march(rayPos, rayDir, isectInfo);\n\t\tif (u_displaySpheirahedraSphere) {\n\t\t\t",n=n.push();var c=(a=66,o=18,r.callWrap(r.contextOrFrameLookup(t,n,"range"),"range",t,[0,r.contextOrFrameLookup(t,n,"numSpheirahedraSpheres")]));if(c)for(var l=c.length,h=0;h<c.length;h++){var p=c[h];n.set("n",p),n.set("loop.index",h+1),n.set("loop.index0",h),n.set("loop.revindex",l-h),n.set("loop.revindex0",l-h-1),n.set("loop.first",0===h),n.set("loop.last",h===l-1),n.set("loop.length",l),s+="\n\t\t\tIntersectSphere(ID_INI_SPHERES, ",s+=r.suppressValue(p,e.opts.autoescape),s+=", -1,\n\t\t\t\t\t\t\tHsv2rgb(float(",s+=r.suppressValue(p,e.opts.autoescape),s+=") * 0.3, 1., 1.),\n\t\t\t\t\t\t\tu_spheirahedraSpheres[",s+=r.suppressValue(p,e.opts.autoescape),s+="].center - u_convexSphere.center,\n\t\t\t\t\t\t\tu_spheirahedraSpheres[",s+=r.suppressValue(p,e.opts.autoescape),s+="].r.x*1.00001,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t\t"}n=n.pop(),s+="\n\t\t}\n\t\tif (u_displayConvexSphere) {\n\t\t\tIntersectSphere(ID_INI_SPHERES, -1, -1,\n\t\t\t\t\t\t\tvec3(0.7), vec3(0),\n\t\t\t\t\t\t\tu_convexSphere.r.x,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t}\n\n\t\tif (u_displayInversionSphere) {\n\t\t\tIntersectSphere(ID_INI_SPHERES, -1, -1,\n\t\t\t\t\t\t\tvec3(0.7),\n\t\t\t\t\t\t\tu_inversionSphere.center - u_convexSphere.center,\n\t\t\t\t\t\t\tu_inversionSphere.r.x,\n\t\t\t\t\t\t\trayPos, rayDir, isectInfo);\n\t\t}\n\n        if(isectInfo.hit) {\n            vec3 matColor = isectInfo.matColor;\n            vec3 diffuse =  clamp(dot(isectInfo.normal, LIGHT_DIR), 0., 1.) * matColor;\n            vec3 ambient = matColor * AMBIENT_FACTOR;\n            bool transparent = false;\n            transparent =  (isectInfo.objId == ID_INI_SPHERES) ?\n                true : false;\n\n            if(transparent) {\n                coeff *= transparency;\n                l += (diffuse + ambient) * coeff;\n                rayPos = isectInfo.intersection + rayDir * 0.000001 * 2.;\n                isectInfo = NewIsectInfo();\n                continue;\n            } else {\n                l += (diffuse + ambient) * coeff;\n            }\n        }\n        break;\n    }\n\n    return l;\n}\n\nout vec4 outColor;\nvoid main() {\n    vec3 sum = vec3(0);\n    float MAX_SAMPLES = 5.;\n    for (float i = 0. ; i < MAX_SAMPLES ; i++) {\n        vec2 coordOffset = Rand2n(gl_FragCoord.xy, i);\n        vec3 ray = CalcRay(u_camera.pos, u_camera.target, u_camera.up, u_camera.fov,\n                           u_resolution, gl_FragCoord.xy + coordOffset);\n        sum += computeColor(u_camera.pos, ray);\n    }\n    outColor = vec4(sum / MAX_SAMPLES, 1.0);\n}\n",u?u.rootRenderFunc(e,t,n,r,i):i(null,s)})})})}catch(e){i(r.handleError(e,a,o))}}return{root:e}}()}(),e.exports=o(i,r,i.nunjucksPrecompiled["shaders/spheirahedra.njk.frag"],a)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function o(){v&&f&&(v=!1,f.length?d=f.concat(d):m=-1,d.length&&s())}function s(){if(!v){var e=i(o);v=!0;for(var t=d.length;t;){for(f=d,d=[];++m<t;)f&&f[m].run();m=-1,t=d.length}f=null,v=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var f,d=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(l)setTimeout(o,0,e);else{var t=c[e];if(t){l=!0;try{a(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,h=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var n=h.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),p.setImmediate=r,p.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(15),n(49))},function(e,t){e.exports="#version 300 es\nprecision mediump float;\n\nin vec2 v_texCoord;\nuniform sampler2D u_texture;\n\nconst float DISPLAY_GAMMA_COEFF = 1. / 2.2;\nvec4 gammaCorrect(vec4 rgba) {\n    return vec4((min(pow(rgba.r, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.g, DISPLAY_GAMMA_COEFF), 1.)),\n                (min(pow(rgba.b, DISPLAY_GAMMA_COEFF), 1.)),\n                rgba.a);\n}\n\nout vec4 outColor;\nvoid main() {\n    outColor = gammaCorrect(texture(u_texture, v_texCoord));\n}\n"},function(e,t){e.exports=function(e,t,n,r,i){var a,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,o=e.default);var u="function"==typeof o?o.options:o;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.functional,h=l?u.render:u.beforeCreate;l?u.render=function(e,t){return c.call(t),h(e,t)}:u.beforeCreate=h?[].concat(h,c):[c]}return{esModule:a,exports:o,options:u}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"body"}},[e._v("\n  Polyhedron:\n  "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSpheirahedron,expression:"selectedSpheirahedron"}],attrs:{id:"sphairahedraTypeBox"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedSpheirahedron=t.target.multiple?n:n[0]},e.changeSpheirahedron]}},e._l(Object.keys(e.spheirahedraHandler.baseTypes),function(t){return n("option",[e._v("\n      "+e._s(t)+"\n    ")])})),e._v("\n  Dihedral Angle Type:\n  "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.spheirahedraHandler.currentDihedralAngleIndex,expression:"spheirahedraHandler.currentDihedralAngleIndex"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.spheirahedraHandler.currentDihedralAngleIndex=t.target.multiple?n:n[0]},e.changeDihedralAngleType]}},e._l(e.spheirahedraHandler.baseTypes[e.selectedSpheirahedron],function(t,r){return n("option",[e._v("\n      "+e._s(r)+"\n    ")])})),e._v(" "),n("br"),e._v("\n  Max Iterations"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.maxIterations,expression:"canvasHandler.limitsetCanvas.maxIterations"}],attrs:{type:"number",min:"0"},domProps:{value:e.canvasHandler.limitsetCanvas.maxIterations},on:{change:e.updateRenderParameter,input:function(t){t.target.composing||(e.canvasHandler.limitsetCanvas.maxIterations=t.target.value)}}}),n("br"),e._v("\n  MarchingThreshold"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.marchingThreshold,expression:"canvasHandler.limitsetCanvas.marchingThreshold"}],attrs:{type:"number",step:"0.000001",min:"0.0000001"},domProps:{value:e.canvasHandler.limitsetCanvas.marchingThreshold},on:{change:e.updateRenderParameter,input:function(t){t.target.composing||(e.canvasHandler.limitsetCanvas.marchingThreshold=t.target.value)}}}),e._v("\n  (fast) 0.0001 ~ 000001 (slow) are best parameters."),n("br"),e._v("\n  FudgeFactor "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.fudgeFactor,expression:"canvasHandler.limitsetCanvas.fudgeFactor"}],staticStyle:{width:"80px"},attrs:{type:"number",step:"0.01",min:"0.001",max:"1.0"},domProps:{value:e.canvasHandler.limitsetCanvas.fudgeFactor},on:{change:e.updateRenderParameter,input:function(t){t.target.composing||(e.canvasHandler.limitsetCanvas.fudgeFactor=t.target.value)}}}),e._v("\n  (slow) 0.1 ~ 1.0 (fast)  Large fudgeFactor may cause artifacts."),n("br"),e._v("\n  AO Epsilon"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.aoEps,expression:"canvasHandler.limitsetCanvas.aoEps"}],attrs:{type:"number",min:"0",step:"0.0001"},domProps:{value:e.canvasHandler.limitsetCanvas.aoEps},on:{change:e.updateRenderParameter,input:function(t){t.target.composing||(e.canvasHandler.limitsetCanvas.aoEps=t.target.value)}}}),e._v("\n  AO Intensity"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.aoIntensity,expression:"canvasHandler.limitsetCanvas.aoIntensity"}],attrs:{type:"number",step:"0.0001",min:"0.0000001"},domProps:{value:e.canvasHandler.limitsetCanvas.aoIntensity},on:{change:e.updateRenderParameter,input:function(t){t.target.composing||(e.canvasHandler.limitsetCanvas.aoIntensity=t.target.value)}}}),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.spheirahedraHandler.limitRenderingMode,expression:"canvasHandler.spheirahedraHandler.limitRenderingMode"}],attrs:{type:"radio",value:"0"},domProps:{checked:e._q(e.canvasHandler.spheirahedraHandler.limitRenderingMode,"0")},on:{change:e.updateLimitSetShader,__c:function(t){e.canvasHandler.spheirahedraHandler.limitRenderingMode="0"}}}),e._v(" "),n("label",[e._v("Terrain limit set ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.spheirahedraHandler.limitRenderingMode,expression:"canvasHandler.spheirahedraHandler.limitRenderingMode"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.canvasHandler.spheirahedraHandler.limitRenderingMode,"1")},on:{change:e.updateLimitSetShader,__c:function(t){e.canvasHandler.spheirahedraHandler.limitRenderingMode="1"}}}),e._v(" "),n("label",[e._v("Quasi-sphere from seed spheres")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.spheirahedraHandler.limitRenderingMode,expression:"canvasHandler.spheirahedraHandler.limitRenderingMode"}],attrs:{type:"radio",value:"2"},domProps:{checked:e._q(e.canvasHandler.spheirahedraHandler.limitRenderingMode,"2")},on:{change:e.updateLimitSetShader,__c:function(t){e.canvasHandler.spheirahedraHandler.limitRenderingMode="2"}}}),e._v(" "),n("label",[e._v("Quasi-sphere from spheirahedron")]),n("br"),e._v("\n  Display Limit Set:"),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere,expression:"canvasHandler.limitsetCanvas.displaySpheirahedraSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere)?e._i(e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere,null)>-1:e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere},on:{change:e.updateRenderParameter,__c:function(t){var n=e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere=n.concat(null)):a>-1&&(e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.limitsetCanvas.displaySpheirahedraSphere=i}}}),e._v(" "),n("label",[e._v("Spheirahedra Sphere")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.displayBoundingSphere,expression:"canvasHandler.limitsetCanvas.displayBoundingSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.limitsetCanvas.displayBoundingSphere)?e._i(e.canvasHandler.limitsetCanvas.displayBoundingSphere,null)>-1:e.canvasHandler.limitsetCanvas.displayBoundingSphere},on:{change:e.updateRenderParameter,__c:function(t){var n=e.canvasHandler.limitsetCanvas.displayBoundingSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.limitsetCanvas.displayBoundingSphere=n.concat(null)):a>-1&&(e.canvasHandler.limitsetCanvas.displayBoundingSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.limitsetCanvas.displayBoundingSphere=i}}}),e._v(" "),n("label",[e._v("Bounding Sphere")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.limitsetCanvas.castShadow,expression:"canvasHandler.limitsetCanvas.castShadow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.limitsetCanvas.castShadow)?e._i(e.canvasHandler.limitsetCanvas.castShadow,null)>-1:e.canvasHandler.limitsetCanvas.castShadow},on:{change:e.updateRenderParameter,__c:function(t){var n=e.canvasHandler.limitsetCanvas.castShadow,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.limitsetCanvas.castShadow=n.concat(null)):a>-1&&(e.canvasHandler.limitsetCanvas.castShadow=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.limitsetCanvas.castShadow=i}}}),e._v(" "),n("label",[e._v("Cast Shadow")]),e._v(" "),n("br"),e._v("\n\n  Display Spheirahedron:"),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere,expression:"canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere)?e._i(e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere,null)>-1:e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere},on:{change:e.renderSpheirahedraCanvas,__c:function(t){var n=e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere=n.concat(null)):a>-1&&(e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.spheirahedraCanvas.displaySpheirahedraSphere=i}}}),e._v(" "),n("label",[e._v("Spheirahedra Sphere")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.spheirahedraCanvas.displayConvexSphere,expression:"canvasHandler.spheirahedraCanvas.displayConvexSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.spheirahedraCanvas.displayConvexSphere)?e._i(e.canvasHandler.spheirahedraCanvas.displayConvexSphere,null)>-1:e.canvasHandler.spheirahedraCanvas.displayConvexSphere},on:{change:e.renderSpheirahedraCanvas,__c:function(t){var n=e.canvasHandler.spheirahedraCanvas.displayConvexSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.spheirahedraCanvas.displayConvexSphere=n.concat(null)):a>-1&&(e.canvasHandler.spheirahedraCanvas.displayConvexSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.spheirahedraCanvas.displayConvexSphere=i}}}),e._v(" "),n("label",[e._v("Convex Sphere")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.spheirahedraCanvas.displayInversionSphere,expression:"canvasHandler.spheirahedraCanvas.displayInversionSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.spheirahedraCanvas.displayInversionSphere)?e._i(e.canvasHandler.spheirahedraCanvas.displayInversionSphere,null)>-1:e.canvasHandler.spheirahedraCanvas.displayInversionSphere},on:{change:e.renderSpheirahedraCanvas,__c:function(t){var n=e.canvasHandler.spheirahedraCanvas.displayInversionSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.spheirahedraCanvas.displayInversionSphere=n.concat(null)):a>-1&&(e.canvasHandler.spheirahedraCanvas.displayInversionSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.spheirahedraCanvas.displayInversionSphere=i}}}),e._v(" "),n("label",[e._v("Inversion Sphere")]),n("br"),e._v("\n  Display Spheirahedral Prism:"),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.prismCanvas.displaySpheirahedraSphere,expression:"canvasHandler.prismCanvas.displaySpheirahedraSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.prismCanvas.displaySpheirahedraSphere)?e._i(e.canvasHandler.prismCanvas.displaySpheirahedraSphere,null)>-1:e.canvasHandler.prismCanvas.displaySpheirahedraSphere},on:{change:e.renderPrismCanvas,__c:function(t){var n=e.canvasHandler.prismCanvas.displaySpheirahedraSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.prismCanvas.displaySpheirahedraSphere=n.concat(null)):a>-1&&(e.canvasHandler.prismCanvas.displaySpheirahedraSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.prismCanvas.displaySpheirahedraSphere=i}}}),e._v(" "),n("label",[e._v("Spheirahedra Sphere")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasHandler.prismCanvas.displayInversionSphere,expression:"canvasHandler.prismCanvas.displayInversionSphere"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.canvasHandler.prismCanvas.displayInversionSphere)?e._i(e.canvasHandler.prismCanvas.displayInversionSphere,null)>-1:e.canvasHandler.prismCanvas.displayInversionSphere},on:{change:e.renderPrismCanvas,__c:function(t){var n=e.canvasHandler.prismCanvas.displayInversionSphere,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.canvasHandler.prismCanvas.displayInversionSphere=n.concat(null)):a>-1&&(e.canvasHandler.prismCanvas.displayInversionSphere=n.slice(0,a).concat(n.slice(a+1)))}else e.canvasHandler.prismCanvas.displayInversionSphere=i}}}),e._v(" "),n("label",[e._v("Inversion Sphere")]),n("br")])},i=[],a={render:r,staticRenderFns:i};t.a=a},function(e,t,n){var r=n(43);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(55)("5845ce79",r,!0)},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(a(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var o=[],i=0;i<n.parts.length;i++)o.push(a(n.parts[i]));l[n.id]={id:n.id,refs:1,parts:o}}}}function i(){var e=document.createElement("style");return e.type="text/css",h.appendChild(e),e}function a(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(d)return v;r.parentNode.removeChild(r)}if(m){var a=f++;r=p||(p=i()),t=o.bind(null,r,a,!1),n=o.bind(null,r,a,!0)}else r=i(),t=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function o(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function s(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(56),l={},h=u&&(document.head||document.getElementsByTagName("head")[0]),p=null,f=0,d=!1,v=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){d=n;var i=c(e,t);return r(i),function(t){for(var n=[],a=0;a<i.length;a++){var o=i[a],s=l[o.id];s.refs--,n.push(s)}t?(i=c(e,t),r(i)):i=[];for(var a=0;a<n.length;a++){var s=n[a];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete l[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],o=a[0],s=a[1],u=a[2],c=a[3],l={id:e+":"+i,css:s,media:u,sourceMap:c};r[o]?r[o].parts.push(l):n.push(r[o]={id:o,parts:[l]})}return n}}]);